const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/entries/src_pages.Bzc5nBag.js","assets/chunks/chunk-BrjrQUnT.js","assets/static/style-052041d4.CbGtfgdF.css","assets/static/style-269ba50d.D1-0B2xV.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n)=>e(t,"name",{value:n,configurable:!0});import{_ as n}from"../chunks/chunk-BrjrQUnT.js";function o(e){return Array.from(new Set(e))}function r(e,t){const n=i();return n[e]??(n[e]=t)}function i(){var e;return globalThis._vike??(globalThis._vike={}),(e=globalThis._vike).globals??(e.globals={}),globalThis._vike.globals}t(o,"unique"),t(r,"getGlobalObject"),t(i,"getGlobals");const a=new Proxy({},{get:t((e,t)=>e=>"code"===t?`\`${e}\``:"string"===t?`'${e}'`:e,"get")}),s="0.4.250";let l;function u(){return r("utils/assertSingleInstance.ts",{instances:[],alreadyLogged:new Set})}function c(){return l??(l=u()),l}l??(l=u()),t(u,"genGlobalConfig"),t(c,"getGlobalObjectSafe");const g="Client runtime loaded twice https://vike.dev/client-runtime-duplicated";function f(){const e=c();{const t=o(e.instances);h(t.length<=1,`vike@${a.bold(t[0])} and vike@${a.bold(t[1])} loaded which is highly discouraged, see ${a.underline("https://vike.dev/warning/version-mismatch")}`,{onlyOnce:!0,showStackTrace:!1})}e.checkSingleInstance&&e.instances.length>1&&h(!1,g,{onlyOnce:!0,showStackTrace:!0})}function d(e){const t=c();h(!1!==t.isClientRouting,"Client runtime of both Server Routing and Client Routing loaded https://vike.dev/client-runtimes-conflict",{onlyOnce:!0,showStackTrace:!0}),h(void 0===t.isClientRouting,g,{onlyOnce:!0,showStackTrace:!0}),t.isClientRouting=!0,t.checkSingleInstance=!0,f()}function p(){c().instances.push(s),f()}function h(e,t,{onlyOnce:n,showStackTrace:o}){const r=c();if(e)return;const i=`[Vike][Warning] ${t}`;{const{alreadyLogged:e}=r,t=i;if(e.has(t))return;e.add(t)}o?console.warn(new Error(i)):console.warn(i)}function m(){return"undefined"!=typeof process&&(!!process.cwd&&(!(!process.versions||void 0===process.versions.node)&&!(!process.release||"node"!==process.release.name)))}function y(e,t){const n=new Error(e);return m()&&(n.stack=C(n.stack,t)),n}function C(e,t){if(!e)return e;const n=v(e);let o=0;return n.filter(e=>!e.includes(" (internal/")&&!e.includes(" (node:internal")&&(!(o<t&&b(e))||(o++,!1))).join("\n")}function b(e){return e.startsWith("    at ")}function v(e){return e.split(/\r?\n/)}function P(e){return a.bold(a.yellow(e))}function x(e){return a.bold(a.red(e))}function w(e){return a.yellow(e)}t(f,"assertSingleInstance"),t(d,"assertSingleInstance_onClientEntryClientRouting"),t(p,"assertSingleInstance_onAssertModuleLoad"),t(h,"assertWarning$1"),t(m,"isNodeJS"),t(y,"createErrorWithCleanStackTrace"),t(C,"clean"),t(b,"isStackTraceLine"),t(v,"splitByLine"),t(P,"colorVike"),t(x,"colorError"),t(w,"colorWarning");const S=r("utils/assert.ts",{alreadyLogged:new Set});p();const k=`[vike@${s}]`;function R(e,t){if(e)return;const n=(()=>{if(!t)return null;const e="string"==typeof t?t:JSON.stringify(t);return a.dim(`Debug for maintainers (you can ignore this): ${e}`)})();let o=[`You stumbled upon a Vike bug. Go to ${a.underline("https://github.com/vikejs/vike/issues/new?template=bug.yml")} and copy-paste this error. A maintainer will fix the bug (usually within 24 hours).`,n].filter(Boolean).join(" ");o=$(o,"Bug",!0);const r=j(o);throw S.onBeforeLog?.(),S.onBeforeErr?.(r),r}function E(e,t,{showStackTrace:n,exitOnError:o}={}){if(e)return;n=n||S.alwaysShowStackTrace;const r=j(t=$(t,"Wrong Usage"));if(S.onBeforeLog?.(),S.onBeforeErr?.(r),!o)throw r;console.error(n?r:t),process.exit(1)}function O(e){return j(e=$(e,"Error"))}function F(e,t,{onlyOnce:n,showStackTrace:o}){if(e)return;if(o=o||S.alwaysShowStackTrace,n){const{alreadyLogged:e}=S,o=!0===n?t:n;if(e.has(o))return;e.add(o)}const r=$(t,"Warning");if(S.onBeforeLog?.(),o){const e=j(r);S.onBeforeErr?.(e),console.warn(e)}else console.warn(r)}function T(e,t,{onlyOnce:n}){t=$(t,null);{const{alreadyLogged:e}=S,n=t;if(e.has(n))return;e.add(n)}S.onBeforeLog?.(),console.log(t)}function $(e,t,n=!1){const o=A(n),r=I(t),i=_(e);if(S.addTagsDev){return`${S.addTagsDev(o,r)}${i}${e}`}return`${`${o}${r}`}${i}${e}`}function _(e){return e.startsWith("[")?"":" "}function I(e){if(!e)return"";let t=`[${e}]`;return t="Warning"===e?w(t):x(t),t}function A(e=!1){return P(e?k:"[vike]")}function j(e){const t=y(e,3);return S.addTagsDev&&(t.stack=t.stack?.replace(/^Error:\s*/,"")),t}function N(){return"undefined"!=typeof window&&"number"==typeof window.scrollY}t(R,"assert"),t(E,"assertUsage"),t(O,"getProjectError"),t(F,"assertWarning"),t(T,"assertInfo"),t($,"addTags"),t(_,"getTagWhitespace"),t(I,"getTagType"),t(A,"getTagVike"),t(j,"createError"),t(N,"isBrowser");const L=r("utils/assertRouterType.ts",{});function H(){B(D()),L.isClientRouting=!0}function D(){return!1!==L.isClientRouting}function B(e){E(N(),`${a.cyan("import { something } from 'vike/client/router'")} is forbidden on the server-side`,{showStackTrace:!0}),F(e,"You shouldn't `import { something } from 'vike/client/router'` when using Server Routing. The 'vike/client/router' utilities work only with Client Routing. In particular, don't `import { navigate }` nor `import { prefetch }` as they unnecessarily bloat your client-side bundle sizes.",{showStackTrace:!0,onlyOnce:!0})}function W(e){return e instanceof Function||"function"==typeof e}function z(e){return"object"==typeof e&&null!==e}function V(e){return Array.isArray(e)}function G(e){return V(e)&&e.every(e=>"string"==typeof e)}function U(e){return z(e)&&Object.values(e).every(e=>"string"==typeof e)}function M(e,t,n){if(!z(e))return!1;if(!(t in e))return"undefined"===n;if(void 0===n)return!0;const o=e[t];return"undefined"===n?void 0===o:"array"===n?V(o):"object"===n?z(o):"string[]"===n?G(o):"string{}"===n?U(o):"function"===n?W(o):V(n)?"string"==typeof o&&n.includes(o):"null"===n?null===o:"true"===n?!0===o:"false"===n?!1===o:typeof o===n}function Y(e){return"object"==typeof e&&null!==e&&(null===Object.getPrototypeOf(e)||"Object"===e.constructor.name)}function K(){const e=!!window.__REACT_DEVTOOLS_GLOBAL_HOOK__?.renderers?.size,t=!!window.__REACT_DEVTOOLS_GLOBAL_HOOK__?.rendererInterfaces?.size,n=!!window.__vite_plugin_react_preamble_installed__;return e||t||n}function J(e,t,n){t&&(n||R(!t._isOriginalObject),Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)))}function q(e,t,n){return"string"==typeof e?X(e.split(""),t,n).join(""):X(e,t,n)}function X(e,t,n){const o=[];let r=t>=0?t:e.length+t;R(r>=0&&r<=e.length);let i=n>=0?n:e.length+n;for(R(i>=0&&i<=e.length);r!==i&&(r===e.length&&(r=0),r!==i);){const t=e[r];R(void 0!==t),o.push(t),r++}return o}function Z(e,t){R(pe(e),e),R(t.startsWith("/"));const{hashString:n,withoutHash:o}=Q(e);R(null===n||n.startsWith("#"));const r=null===n?"":te(n.slice(1)),{searchString:i,withoutSearch:a}=ee(o);R(null===i||i.startsWith("?"));let s="";if(null!==i)s=i;else if(e.startsWith("#")){const e=re();s=e&&ee(e).searchString||""}const l={},u={};Array.from(new URLSearchParams(s)).forEach(([e,t])=>{l[e]=t,u[e]=[...u.hasOwnProperty(e)?u[e]:[],t]});let{protocol:c,origin:g,pathnameAbsoluteWithBase:f}=oe(a,t);const d=a.slice((g||"").length);fe(e,g,d,i,n);let{pathname:p,isBaseMissing:h}=ce(f,t);const m=de(g,p,i,n),y=g?g.slice(c.length):null,{hostname:C,port:b}=ae(y,e);return p=ne(p),R(p.startsWith("/")),{href:m,protocol:c,hostname:C,port:b,origin:g,pathname:p,pathnameOriginal:d,isBaseMissing:h,search:l,searchAll:u,searchOriginal:i,hash:r,hashOriginal:n}}function Q(e){const[t,...n]=e.split("#");return{hashString:["",...n].join("#")||null,withoutHash:t}}function ee(e){const[t,...n]=e.split("?");return{searchString:["",...n].join("?")||null,withoutSearch:t}}function te(e){try{return decodeURIComponent(e)}catch{}try{return decodeURI(e)}catch{}return e}function ne(e){return e=(e=e.replace(/\s+$/,"")).split("/").map(e=>te(e).split("/").join("%2F")).join("/")}function oe(e,t){R(!e.includes("?")&&!e.includes("#"));{const{protocol:t,origin:n,pathname:o}=ie(e);if(n)return{protocol:t,origin:n,pathnameAbsoluteWithBase:o};R(o===e)}if(e.startsWith("/"))return{protocol:null,origin:null,pathnameAbsoluteWithBase:e};{const n=re();let o;o=n?ie(n.split("?")[0].split("#")[0]).pathname:t;return{protocol:null,origin:null,pathnameAbsoluteWithBase:ue(e,o)}}}function re(){return"undefined"!=typeof window?window?.document?.baseURI:void 0}function ie(e){if(be(e)){const{protocol:t,uriWithoutProtocol:n}=se(e);R(t);const[o,...r]=n.split("/"),i=t+o;return{pathname:"/"+r.join("/"),origin:i,protocol:t}}return{pathname:e,origin:null,protocol:null}}function ae(e,t){const n={hostname:null,port:null};if(!e)return n;const o=e.split(":");if(o.length>1){const e=parseInt(o.pop(),10);R(e||0===e,t),n.port=e}return n.hostname=o.join(":"),n}function se(e){const[t,...n]=e.split(":");if(0===n.length||!/^[a-z][a-z0-9\+\-]*$/i.test(t))return{protocol:null,uriWithoutProtocol:e};let o=t+":",r=n.join(":");const i="//";return r.startsWith(i)&&(o+=i,r=r.slice(2)),{protocol:o,uriWithoutProtocol:r}}function le(e){return!["ipfs://","ipns://"].includes(e)&&e.endsWith("://")}function ue(e,t){const n=t.split("/"),o=e.split("/");let r=t.endsWith("/");e.startsWith(".")&&n.pop();for(const a in o){const e=o[a];""==e&&"0"===a||"."!=e&&(".."==e?n.pop():(r=!1,n.push(e)))}let i=n.join("/");return r&&!i.endsWith("/")&&(i+="/"),i.startsWith("/")||(i="/"+i),i}function ce(e,t){R(e.startsWith("/")),R(ge(t));let n=e;if(R(n.startsWith("/")),R(t.startsWith("/")),"/"===t){return{pathname:e,isBaseMissing:!1}}let o=t;if(t.endsWith("/")&&n===q(t,0,-1)&&(o=q(t,0,-1),R(n===o)),!n.startsWith(o)){return{pathname:e,isBaseMissing:!0}}return R(n.startsWith("/")||n.startsWith("http")),R(n.startsWith(o)),n=n.slice(o.length),n.startsWith("/")||(n="/"+n),R(n.startsWith("/")),{pathname:n,isBaseMissing:!1}}function ge(e){return e.startsWith("/")}function fe(e,t,n,o,r){R(e===de(t,n,o,r))}function de(e,t,n,o){return`${e||""}${t}${n||""}${o||""}`}function pe(e){return he(e)||ye(e)}function he(e){return me(e)||be(e)}function me(e){return e.startsWith("/")}function ye(e){return[".","?","#"].some(t=>e.startsWith(t))||""===e}function Ce(e){return!e.startsWith("/")&&!ye(e)}function be(e){const{protocol:t}=se(e);return!!t&&le(t)}function ve(e,t){E(he(e),Pe(e,t))}function Pe(e,t,n,o){let r=`${t} is ${a.string(e)} but it should start with ${a.string("/")}`;return r+=` or a protocol (e.g. ${a.string("http://")})`,r}function xe(e){window.location.href=e}function we(e){return new Promise(t=>setTimeout(t,e))}function Se(e,t){let n=!1;return()=>{n||(n=!0,setTimeout(()=>{n=!1,e()},t))}}function ke(e){window.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&e()})}function Re(e){window.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&e()})}function Ee(e,t){R(e===t)}function Oe(e){const t=e/1e3;if(t<120){const e=Fe(t);return`${e} second${Te(e)}`}{const e=Fe(t/60);return`${e} minute${Te(e)}`}}function Fe(e){let t=e.toFixed(1);return t.endsWith(".0")&&(t=t.slice(0,-2)),t}function Te(e){return"1"===e?"":"s"}t(H,"assertClientRouting"),t(D,"checkIfClientRouting"),t(B,"assertNoContradiction"),t(W,"isCallable"),t(z,"isObject"),t(V,"isArray"),t(G,"isArrayOfStrings"),t(U,"isObjectOfStrings"),t(M,"hasProp"),t(Y,"isPlainObject"),t(K,"isReact"),t(J,"objectAssign"),t(q,"slice"),t(X,"sliceArray"),t(Z,"parseUrl"),t(Q,"extractHash"),t(ee,"extractSearch"),t(te,"decodeSafe"),t(ne,"decodePathname"),t(oe,"getPathnameAbsoluteWithBase"),t(re,"getBaseURI"),t(ie,"parseOrigin"),t(ae,"parseHost"),t(se,"parseProtocol"),t(le,"isWebUrlProtocol"),t(ue,"resolveUrlPathnameRelative"),t(ce,"removeBaseServer"),t(ge,"isBaseServer$1"),t(fe,"assertUrlComponents"),t(de,"createUrlFromComponents"),t(pe,"isUrl"),t(he,"isUrlAbsolute"),t(me,"isUrlPathAbsolute"),t(ye,"isUrlRelative"),t(Ce,"isUrlExternal"),t(be,"isUrlWithWebProtocol"),t(ve,"assertUsageUrlAbsolute"),t(Pe,"getErrMsg"),t(xe,"redirectHard"),t(we,"sleep"),t(Se,"throttle"),t(ke,"onPageHide"),t(Re,"onPageShow"),t(Ee,"updateType"),t(Oe,"humanizeTime"),t(Fe,"round"),t(Te,"plural");function $e({timeout:e=25e3}={}){let n,o,r=!1;const i=new Promise((e,i)=>{n=t((...t)=>(r=!0,a(),e(...t)),"resolve"),o=t((...e)=>(r=!0,a(),i(...e)),"reject")}),a=t(()=>s.forEach(e=>clearTimeout(e)),"timeoutClear"),s=[];let l;return l=e?new Proxy(i,{get(t,n){if("then"===n&&!r){const t=new Error(`Promise hasn't resolved after ${Oe(e)}`);s.push(setTimeout(()=>{R(t.stack),F(!1,_e(t.stack),{onlyOnce:!1})},e))}const o=Reflect.get(t,n);return"function"==typeof o?o.bind(t):o}}):i,{promise:l,resolve:n,reject:o}}function _e(e){const t="Error: ";return e.startsWith(t)&&(e=e.slice(7)),e}t($e,"genPromise"),t(_e,"removeStackErrorPrefix");const Ie={};function Ae(e,t=100,n=5){const o=new Date;let r=Ie[e]??(Ie[e]=je(o));o.getTime()-r.start.getTime()>1e3*n&&(r=Ie[e]=je(o)),r.count++;const i=`[Infinite Loop] Rendering ${r.count} times within ${n} seconds [${e}]`;r.count>t&&E(!1,i),!r.warned&&r.count>.5*t&&(F(!1,i,{onlyOnce:!1,showStackTrace:!0}),r.warned=!0)}function je(e){return{count:0,start:e}}function Ne(e,t,n){const o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(e,t,{...o,enumerable:n})}t(Ae,"catchInfiniteLoop"),t(je,"createTracker"),t(Ne,"changeEnumerable");const Le=[{is:t(e=>void 0===e,"is"),match:t(e=>"!undefined"===e,"match"),serialize:t(()=>"!undefined","serialize"),deserialize:t(()=>{},"deserialize")},{is:t(e=>e===1/0,"is"),match:t(e=>"!Infinity"===e,"match"),serialize:t(()=>"!Infinity","serialize"),deserialize:t(()=>1/0,"deserialize")},{is:t(e=>e===-1/0,"is"),match:t(e=>"!-Infinity"===e,"match"),serialize:t(()=>"!-Infinity","serialize"),deserialize:t(()=>-1/0,"deserialize")},{is:t(e=>"number"==typeof e&&isNaN(e),"is"),match:t(e=>"!NaN"===e,"match"),serialize:t(()=>"!NaN","serialize"),deserialize:t(()=>NaN,"deserialize")},{is:t(e=>e instanceof Date,"is"),match:t(e=>e.startsWith("!Date:"),"match"),serialize:t(e=>"!Date:"+e.toISOString(),"serialize"),deserialize:t(e=>new Date(e.slice(6)),"deserialize")},{is:t(e=>"bigint"==typeof e,"is"),match:t(e=>e.startsWith("!BigInt:"),"match"),serialize:t(e=>"!BigInt:"+e.toString(),"serialize"),deserialize:t(e=>{if("undefined"==typeof BigInt)throw new Error("Your JavaScript environement does not support BigInt. Consider adding a polyfill.");return BigInt(e.slice(8))},"deserialize")},{is:t(e=>e instanceof RegExp,"is"),match:t(e=>e.startsWith("!RegExp:"),"match"),serialize:t(e=>"!RegExp:"+e.toString(),"serialize"),deserialize:t(e=>{const t=(e=e.slice(8)).match(/\/(.*)\/(.*)?/),n=t[1],o=t[2];return new RegExp(n,o)},"deserialize")},{is:t(e=>e instanceof Map,"is"),match:t(e=>e.startsWith("!Map:"),"match"),serialize:t((e,t)=>"!Map:"+t(Array.from(e.entries())),"serialize"),deserialize:t((e,t)=>new Map(t(e.slice(5))),"deserialize")},{is:t(e=>e instanceof Set,"is"),match:t(e=>e.startsWith("!Set:"),"match"),serialize:t((e,t)=>"!Set:"+t(Array.from(e.values())),"serialize"),deserialize:t((e,t)=>new Set(t(e.slice(5))),"deserialize")},{is:t(e=>"string"==typeof e&&e.startsWith("!"),"is"),match:t(e=>e.startsWith("!"),"match"),serialize:t(e=>"!"+e,"serialize"),deserialize:t(e=>e.slice(1),"deserialize")}];function He(e){return e}function De(e,t={}){return Be(JSON.parse(e),t)}function Be(e,t={}){return"string"==typeof e?We(e,t):("object"==typeof e&&null!==e&&Object.entries(e).forEach(([n,o])=>{e[n]=Be(o,t)}),e)}function We(e,n){const o=t(e=>De(e,n),"parser");{const t=n.reviver?.(void 0,e,o);if(t){if("string"!=typeof t.replacement)return t.replacement;if(e=t.replacement,t.resolved)return e}}for(const{match:t,deserialize:r}of Le)if(t(e))return r(e,o);return e}t(He,"ts"),t(De,"parse"),t(Be,"parseTransform"),t(We,"reviver");function ze(){const e=Ge("vike_pageContext");return R(M(e,"pageId","string")),R(M(e,"routeParams","string{}")),e}function Ve(){return Ge("vike_globalContext")}function Ge(e){const t=document.getElementById(e);E(t,`Couldn't find #${e} (which Vike automatically injects in the HTML): make sure it exists (i.e. don't remove it and make sure your HTML isn't malformed)`);const n=t.textContent;R(n);return De(n,{reviver(e,t){if("string"==typeof t)return{replacement:t.replaceAll("\\/","/"),resolved:!1}}})}function Ue(e,t,n){Object.keys(e).filter(e=>!0).forEach(t=>delete e[t]),Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}function Me(e){return(t,n)=>{const o=e(t),r=e(n);return o===r?0:o>r?-1:1}}function Ye(e){return(t,n)=>{const o=e(t),r=e(n);return o===r?0:o<r?-1:1}}function Ke(e){return(t,n)=>{const o=e(t),r=e(n);return R([!0,!1,null].includes(o)),R([!0,!1,null].includes(r)),o===r?0:!0===o||!1===r?-1:!0===r||!1===o?1:void R(!1)}}function Je(e){return Ke(t=>{const n=e(t);return null===n?null:!n})}function qe(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}function Xe(e){return null==e}function Ze(e){return!Xe(e)}function Qe(e){return"["+e.map(e=>"'"+e+"'").join(", ")+"]"}function et(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&!("value"in n)&&!!n.get}function tt(e){return"object"==typeof e&&null!==e&&"then"in e&&W(e.then)}function nt(e){return[null,void 0].includes(e)?String(e):["boolean","number","string"].includes(typeof e)?JSON.stringify(e):null}function ot(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}function rt(e,t,{get:n,...o}){Object.defineProperty(e,t,{...o,get:n})}t(ze,"getPageContextSerializedInHtml"),t(Ve,"getGlobalContextSerializedInHtml"),t(Ge,"findAndParseJson"),t(Ue,"objectReplace"),t(Me,"higherFirst"),t(Ye,"lowerFirst"),t(Ke,"makeFirst"),t(Je,"makeLast"),t(qe,"compareString"),t(Xe,"isNullish"),t(Ze,"isNotNullish"),t(Qe,"stringifyStringArray"),t(et,"isPropertyGetter"),t(tt,"isPromise"),t(nt,"getValuePrintable"),t(ot,"escapeRegex"),t(rt,"objectDefineProperty");const it=["vue","svelte","marko","md","mdx"],at=[...["js","cjs","mjs","ts","cts","mts"],...["jsx","cjsx","mjsx","tsx","ctsx","mtsx"],...it];function st(e){return at.some(t=>e.endsWith("."+t))}function lt(e){return it.some(t=>e.endsWith("."+t))}function ut(e){return"string"==typeof e&&ct(e)?`.${e}`:`[${JSON.stringify(e)}]`}function ct(e){return/^[a-z0-9\$_]+$/i.test(e)}function gt(e,t){return dt(e,t,!0)}function ft(e,t){return dt(e,t,!1)}function dt(e,n,o){const r=o?"CLIENT_ONLY":"SERVER_ONLY",i=e.filter(e=>e.isRelevant(n)&&".page.route"!==e.fileType).sort(pt(o,n)),a=t(e=>{const t=i.filter(t=>t.pageId===n&&t.isEnv(e?"CLIENT_AND_SERVER":r));E(t.length<=1,`Merge the following files into a single file: ${t.map(e=>e.filePath).join(" ")}`);const o=t[0];return R(void 0===o||!o.isDefaultPageFile),o},"getPageIdFile"),s=a(!1),l=a(!0),u=t(e=>i.filter(t=>t.isRendererPageFile&&t.isEnv(e?"CLIENT_AND_SERVER":r))[0],"getRendererFile"),c=u(!1),g=u(!0);return[s,l,...i.filter(e=>e.isDefaultPageFile&&!e.isRendererPageFile&&(e.isEnv(r)||e.isEnv("CLIENT_AND_SERVER"))),c,g].filter(Ze)}function pt(e,t){const n=e?"CLIENT_ONLY":"SERVER_ONLY";return(e,o)=>{if(!e.isDefaultPageFile&&o.isDefaultPageFile)return-1;if(!o.isDefaultPageFile&&e.isDefaultPageFile)return 1;{const t=e.isRendererPageFile,n=o.isRendererPageFile;if(!t&&n)return-1;if(!n&&t)return 1;R(t===n)}{const n=ht(t,e.filePath),r=ht(t,o.filePath);if(n<r)return-1;if(r<n)return 1;R(n===r)}return e.isEnv(n)&&o.isEnv("CLIENT_AND_SERVER")?-1:o.isEnv(n)&&e.isEnv("CLIENT_AND_SERVER")?1:0}}function ht(e,t){let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);const o=e.slice(n),r=t.slice(n);return o.split("/").length+r.split("/").length}async function mt(e,t){const n=ft(e,t).filter(e=>".page.server"===e.fileType);await Promise.all(n.map(async e=>{e.exportNames||(R(e.loadExportNames,t),await e.loadExportNames())}));return{hasOnBeforeRenderServerSideOnlyHook:n.some(({exportNames:e})=>(R(e),e.includes("onBeforeRender")))}}t(st,"isScriptFile"),t(lt,"isTemplateFile"),t(ut,"getPropAccessNotation"),t(ct,"isKeyDotNotationCompatible"),t(gt,"getPageFilesClientSide"),t(ft,"getPageFilesServerSide"),t(dt,"determine"),t(pt,"getPageFilesSorter"),t(ht,"getPathDistance"),t(mt,"analyzePageServerSide");const yt=["urlPathname","urlParsed"],Ct=["Page","pageExports","exports"];function bt(e){[...Ct,...yt].forEach(t=>{t in e&&(yt.includes(t)?(R(t.startsWith("url")),F(!1,`pageContext.${t} is already available in the browser when using Client Routing; adding '${t}' to passToClient has no effect`,{onlyOnce:!0})):F(!1,`pageContext.${t} is a built-in that cannot be overridden; adding '${t}' to passToClient has no effect`,{onlyOnce:!0}),delete e[t])})}t(bt,"removeBuiltInOverrides");function vt(e,t,n){const{pathnameOriginal:o,searchOriginal:r,hashOriginal:i}=Z(e,"/");e.startsWith("/")&&R(e===`${o}${r||""}${i||""}`,{url:e});const a=o.endsWith("/");let s;s=o+(a?"":"/")+"index",R(s),s+=t;return`${s}${r||""}${i||""}`}t(vt,"urlToFile");function Pt(e){return vt(e,".pageContext.json")}function xt(e,t){const n=t.find(t=>t.pageId===e);return R(t.length>0),R(n),n}function wt(e){if(!e||V(e)||e.definedBy)return null;const{filePathToShowToUser:t}=e;return R(t),t}function St(e){const t=wt(e);return R(t),t}function kt(e,t){if(!e)return null;let[n,...o]=e;if(!n)return null;if(0===o.length&&["*","default",t].includes(n))return null;R("*"!==n);let r="",i="";"default"===n?r="export default":(r="export",o=[n,...o]),o.forEach(e=>{r=`${r} { ${e}`,i=` }${i}`});return r+i}function Rt(e,t,n){return`${Ot(e,t)} at ${Ft(n,t)}`}function Et(e,t,n){return n?`${Ot(e,t)} at ${Ft(n,t)}`:`${Ot(e,t)} internally`}function Ot(e,t){return`${e} ${a.cyan(t)} defined`}function Ft(e,t){let n;n=V(e)?e:[e],R(n.length>=1);return n.map(e=>{if(e.definedBy)return Tt(e,t);const{filePathToShowToUser:n,fileExportPathToShowToUser:o}=e,r=kt(o,t);return r?`${n} > ${a.cyan(r)}`:n}).join(" / ")}function Tt(e,t){if("api"===e.definedBy)return`API call ${a.cyan(`${e.operation}({ vikeConfig: { ${t} } })`)}`;const{definedBy:n}=e;return"cli"===n?`CLI option ${a.cyan(`--${t}`)}`:"env"===n?`environment variable ${a.cyan(`VIKE_CONFIG="{${t}}"`)}`:void R(!1)}function $t(e,t,n){const{value:o,definedAtData:r}=e;return n&&_t(o,n,t,r),e}function _t(e,t,n,o){R(null!==e);const r=typeof e;if(r===t)return;const i=nt(e),s=null!==i?`value ${a.cyan(i)}`:`type ${a.cyan(r)}`;E(!1,`${Et("Config",n,o)} has an invalid ${s}: it should be a ${a.cyan(t)} instead`)}function It(e,t,n){const o=e.configValues[t];return o?$t(o,t,n):null}function At(e,{hookName:t,hookFilePath:n}){if(null==e)return;R(!t.endsWith(")"));const o=`The ${a.cyan("pageContext")} object provided by the ${t}() hook defined by ${n}`;E(z(e),`${o} should be an object (but it's ${a.cyan(`typeof pageContext === ${JSON.stringify(typeof e)}`)} instead)`),E(!("isPageContext"in e),`${o} shouldn't be the whole ${a.cyan("pageContext")} object, see https://vike.dev/pageContext-manipulation#do-not-return-entire-pagecontext`),F(!("pageId"in e),`${o} sets ${a.cyan("pageContext.pageId")} which means that Vike's routing is overridden. This is an experimental feature: make sure to contact a vike maintainer before using this.`,{onlyOnce:!0}),E(!("is404"in e),`${o} sets ${a.cyan("pageContext.is404")} which is forbidden, use ${a.cyan("throw render()")} instead, see https://vike.dev/render`)}function jt(e,t,n){R(!n.endsWith(" "));const o=[],r=Object.keys(e);for(const i of r)t.includes(i)||o.push(i);E(0===o.length,[n,"returned an object with following unknown keys:",Qe(o)+".","Only following keys are allowed:",Qe(t)+"."].join(" "))}function Nt(e,t){if(null==e)return;const n=`The onBeforeRender() hook defined by ${t}`;E(Y(e),`${n} should return a plain JavaScript object, ${a.cyan("undefined")}, or ${a.cyan("null")}`),jt(e,["pageContext"],n),e.pageContext&&At(e.pageContext,{hookName:"onBeforeRender",hookFilePath:t})}t(Pt,"getPageContextRequestUrl"),t(xt,"getPageConfig"),t(wt,"getConfigValueFilePathToShowToUser"),t(St,"getHookFilePathToShowToUser"),t(kt,"getExportPath"),t(Rt,"getConfigDefinedAt"),t(Et,"getConfigDefinedAtOptional"),t(Ot,"begin"),t(Ft,"getDefinedAtString"),t(Tt,"getDefinedByString"),t($t,"getConfigValueTyped"),t(_t,"assertConfigValueType"),t(It,"getConfigValueRuntime"),t(At,"assertPageContextProvidedByUser"),t(jt,"assertHookReturnedObject"),t(Nt,"assertOnBeforeRenderHookReturn");const Lt=r("hooks/getHook.ts",{});function Ht(e,t){if(!(t in e.exports))return null;const{hooksTimeout:n}=e.config,o=Mt(n,t),r=e.exports[t];if(null===r)return null;const i=e.exportsAll[t][0];R(i.exportValue===r);const a=i.filePath;return R(a),Vt(r,t,a,o)}function Dt(e,t){const{hooksTimeout:n}=t.config,o=Mt(n,e),r=[];return t.exportsAll[e]?.forEach(t=>{const n=t.exportValue;if(null===n)return;const i=t.filePath;R(i),r.push(Vt(n,e,i,o))}),r}function Bt(e,t){const n=e.configValues[t];if(!n?.value)return null;const{hookFn:o,hookFilePath:r}=Gt(n);return Vt(o,t,r,zt(t))}function Wt(e,t){const n=e.configValues[t];if(!n?.value)return[];const o=n.value;return R(V(o)),o.map((e,o)=>{const r=e,i=zt(t);R(V(n.definedAtData));const a=St(n.definedAtData[o]);return Vt(r,t,a,i)})}function zt(e){return Kt(e)}function Vt(e,t,n,o){R(n),Ut(e,{hookName:t,hookFilePath:n});return{hookFn:e,hookName:t,hookFilePath:n,hookTimeout:o}}function Gt(e){const t=e.value;R(t);return{hookFn:t,hookFilePath:St(e.definedAtData)}}function Ut(e,{hookName:t,hookFilePath:n}){R(t&&n),R(!t.endsWith(")")),R(!n.endsWith(" ")),E(W(e),`Hook ${t}() defined by ${n} should be a function`)}function Mt(e,t){const n=Yt(e);if(!1===n)return{error:!1,warning:!1};const o=n[t],r=Kt(t);return void 0!==o?.error&&(r.error=o.error),void 0!==o?.warning&&(r.warning=o.warning),r}function Yt(e){if(void 0===e)return{};if(!1===e)return!1;E(z(e),`Setting ${a.cyan("hooksTimeout")} should be ${a.cyan("false")} or an object`);const t={};return Object.entries(e).forEach(([e,n])=>{if(!1===n)return void(t[e]={error:!1,warning:!1});E(z(n),`Setting ${a.cyan(`hooksTimeout.${e}`)} should be ${a.cyan("false")} or an object`);const[o,r]=["error","warning"].map(t=>{const o=n[t];if(void 0===o||!1===o)return o;const r=`Setting ${a.cyan(`hooksTimeout.${e}.${t}`)} should be`;return E("number"==typeof o,`${r} ${a.cyan("false")} or a number`),E(o>0,`${r} a positive number`),o});t[e]={error:o,warning:r}}),t}function Kt(e){return"onBeforeRoute"===e?{error:5e3,warning:1e3}:Lt.isPrerendering?{error:12e4,warning:3e4}:(R(!e.toLowerCase().includes("prerender")),{error:3e4,warning:4e3})}function Jt(e,t){if(!Y(e))return!1;for(const n of Object.keys(e))if(!t.includes(n))return!1;return!0}function qt(e,t,n=e=>e){if(R(e.length>0),1===e.length)return n(e[0]);const o=e.slice(0,e.length-1),r=e[e.length-1],i=e.length>2?",":"";return o.map(n).join(", ")+`${i} ${t} `+n(r)}function Xt(e){Zt(e)}function Zt(e){if(void 0===e.is404||null===e.is404)return;const t=e.pageProps||{};z(t)?(t.is404=t.is404||e.is404,e.pageProps=t):F(!1,"pageContext.pageProps should be an object",{showStackTrace:!0,onlyOnce:!0})}t(Ht,"getHookFromPageContext"),t(Dt,"getHookFromPageContextNew"),t(Bt,"getHookFromPageConfigGlobal"),t(Wt,"getHookFromPageConfigGlobalCumulative"),t(zt,"getHookTimeoutGlobal"),t(Vt,"getHook"),t(Gt,"getHookFromConfigValue"),t(Ut,"assertHookFn"),t(Mt,"getHookTimeout"),t(Yt,"getHooksTimeoutProvidedByUserNormalized"),t(Kt,"getHookTimeoutDefault"),t(Jt,"isObjectWithKeys"),t(qt,"joinEnglish"),t(Xt,"addIs404ToPageProps"),t(Zt,"addIs404");function Qt(e,n,o,r){return new Proxy(e,{get:t((t,i)=>en(i,e,n,o,r),"get")})}function en(e,...t){const[n,o,r,i]=t,a=String(e);if("_isProxyObject"===e)return!0;if("dangerouslyUseInternals"===e)return t[2]=!0,Qt(...t);if("_originalObject"===e)return n;if(i&&!(e in n))return i(e);const s=n[e];return tn(a,s,o),s}function tn(e,t,n){if("__VIKE__NOT_SERIALIZABLE__"!==t)return;const o=ut(e);R(N()),E(!1,`Can't access ${n}${o} on the client side. Because it can't be serialized, see server logs.`)}function nn(e){R(e._isOriginalObject);return Qt(e,"globalContext")}function on(e){R(!e._isProxyObject),R(!e.globalContext),R(e._isOriginalObject),Xt(e),"_pageId"in e||Object.defineProperty(e,"_pageId",{get:()=>(F(!1,"pageContext._pageId has been renamed to pageContext.pageId",{showStackTrace:!0,onlyOnce:!0}),e.pageId),enumerable:!1}),rn(e);const t=nn(e._globalContext);return Qt(e,"pageContext",!0,e=>"globalContext"===e?t:e in t?t[e]:void 0)}function rn(e){let t=Object.getOwnPropertyDescriptors(e);for(const n of Object.keys(e))delete e[n];t=Object.fromEntries(Object.entries(t).sort(([e],[t])=>qe(e,t))),Object.defineProperties(e,t)}function an(e){["urlPathname","urlParsed","url","pageExports"].forEach(t=>{e.prop&&R(et(e,t))})}t(Qt,"getProxyForPublicUsage"),t(en,"getProp"),t(tn,"onNotSerializable"),t(nn,"prepareGlobalContextForPublicUsage"),t(on,"preparePageContextForPublicUsage"),t(rn,"sortPageContext"),t(an,"assertPropertyGetters");const sn=r("utils/execHook.ts",{userHookErrors:new WeakMap,pageContext:null});async function ln(e,t,n){const o=Dt(e,t);return await cn(o,t,n)}async function un(e,t,n,o,r){const i=Wt(t,e),a=r(o);await Promise.all(i.map(async e=>{await fn(()=>e.hookFn(a),e,n)}))}async function cn(e,t,n){if(!e.length)return[];const o=n(t);return await Promise.all(e.map(async e=>{const t=await fn(()=>e.hookFn(o),e,o);return{...e,hookReturn:t}}))}async function gn(e,t,n){const o=await cn([e],t,n),{hookReturn:r}=o[0];E(void 0===r,`The ${e.hookName}() hook defined by ${e.hookFilePath} isn't allowed to return a value`)}function fn(e,n,o){const{hookName:r,hookFilePath:i,hookTimeout:{error:a,warning:s}}=n;let l,u;const c=new Promise((e,n)=>{l=t(t=>{g(),e(t)},"resolve"),u=t(e=>{g(),n(e)},"reject")}),g=t(()=>{f&&clearTimeout(f),d&&clearTimeout(d)},"clearTimeouts"),f=pn(s)&&setTimeout(()=>{F(!1,`The ${r}() hook defined by ${i} is slow: it's taking more than ${Oe(s)} (https://vike.dev/hooksTimeout)`,{onlyOnce:!1})},s),d=pn(a)&&setTimeout(()=>{const e=O(`The ${r}() hook defined by ${i} timed out: it didn't finish after ${Oe(a)} (https://vike.dev/hooksTimeout)`);u(e)},a);return(async()=>{try{hn(o);const t=await e();l(t)}catch(t){z(t)&&sn.userHookErrors.set(t,{hookName:r,hookFilePath:i}),u(t)}})(),c}function dn(e,t,n){const o=n(t);hn(o);return{hookReturn:e.hookFn(o)}}function pn(e){return!!e&&e!==1/0}function hn(e){sn.pageContext=e,Promise.resolve().then(()=>{sn.pageContext=null})}t(ln,"execHook"),t(un,"execHookGlobal"),t(cn,"execHookDirect"),t(gn,"execHookDirectSingle"),t(fn,"execHookDirectAsync"),t(dn,"execHookDirectSync"),t(pn,"isNotDisabled"),t(hn,"providePageContextInternal");async function mn(e,t){let n;e._globalContext._pageFilesAll.length>0?(R(0===e._globalContext._pageConfigs.length),n=yn(e.pageId,e._globalContext._pageFilesAll)):n=Ht(e,"guard"),n&&await gn(n,e,t)}function yn(e,t){const n=t.find(t=>t.pageId===e&&".page.route"===t.fileType);if(!n)return null;const{filePath:o,fileExports:r}=n;R(r);const i=r.guard;if(!i)return null;const a=o,s=Kt("guard");return E(W(i),`The guard() hook defined by ${a} should be a function`),{hookFn:i,hookName:"guard",hookFilePath:a,hookTimeout:s}}function Cn(e){const t=new Error("AbortRender");return J(t,{_pageContextAbort:e,[bn]:!0}),t}t(mn,"execHookGuard"),t(yn,"findPageGuard"),t(Cn,"AbortRender");const bn="_isAbortError";function vn(e){return"object"==typeof e&&null!==e&&bn in e}function Pn(e){return!!(e._urlRewrite||e._urlRedirect||e.abortStatusCode)&&(R(M(e,"_abortCall","string")),!0)}function xn(e){const t=e.at(-1);if(!t)return null;const n=t._pageContextAbort;return R(n),n}function wn(e,t,n){J(t,{_pageContextAbort:n}),e.push(t),Sn(e)}function Sn(e){if(e.length<10)return;const t=e.map(e=>e._pageContextAbort._abortCall);o(t).length!==t.length&&E(!1,`Infinite loop: ${t.join(" => ")}`)}t(vn,"isAbortError"),t(Pn,"isAbortPageContext"),t(xn,"getPageContextAddendumAbort"),t(wn,"addNewPageContextAborted"),t(Sn,"assertNoInfiniteAbortLoop");const kn="_isServerSideError";function Rn(e){return J(e,{Page:e.config?.Page||e.exports?.Page}),an(e),On(e),En(e)}function En(e){return on(e)}function On(e){Fn(e)}function Fn(e){Object.entries(e).forEach(([t,n])=>{delete e[t],e[t]=n})}function Tn(e){return Rn(e)}t(Rn,"preparePageContextForPublicUsageClientShared"),t(En,"preparePageContextForPublicUsageClientMinimal"),t(On,"supportVueReactiviy"),t(Fn,"resolveGetters"),t(Tn,"preparePageContextForPublicUsageClient");const $n=r("runtime-client-routing/getPageContextFromHooks.ts",{}),_n=["guard","data","onBeforeRender"];function In(){const e=ze();return Yn(e),J(e,{_hasPageContextFromServer:!0}),e}async function An(e){for(const t of _n)Gn(t,e)&&("guard"===t?await Jn(e):await Hn(t,e));return e}async function jn(e,t){const n={_hasPageContextFromServer:!1};if(!t&&await zn(e)){const t=await Mn(e);if("is404ServerSideRouted"in t)return{is404ServerSideRouted:!0};const{pageContextFromServer:o}=t;n._hasPageContextFromServer=!0,R(!(kn in o)),R(!("serverSideError"in o)),J(n,o)}return{pageContextFromHooksServer:n}}async function Nn(e,t){let n=!1;for(const r of _n)if(Gn(r,e)||!e._hasPageContextFromServer)if("guard"===r){if(t)continue;await Jn(e)}else"data"===r&&(n=!0),await Hn(r,e);const o=Un("data",e);(n&&o.client||e._hasPageContextFromServer&&o.server)&&await Ln("onData",e);return e}async function Ln(e,t){return await ln(e,t,e=>Tn(e))}async function Hn(e,t){let n;n="data"===e?await Dn(t):await Bn(t),Object.assign(t,n)}async function Dn(e){const t=(await Ln("data",e))[0];if(!t)return;const{hookReturn:n}=t;return{data:n}}async function Bn(e){const t=(await Ln("onBeforeRender",e))[0];if(!t)return;const{hookReturn:n,hookFilePath:o}=t,r={};Nt(n,o);const i=n?.pageContext;return i&&J(r,i),r}function Wn(e){e._pageContextInitIsPassedToClient&&($n.pageContextInitIsPassedToClient=!0)}async function zn(e){if(Kn(e)){const{hasOnBeforeRenderServerSideOnlyHook:t}=await mt(e._pageFilesAll,e.pageId);return t}return!!$n.pageContextInitIsPassedToClient||Vn(e)}function Vn(e){if(Kn(e))return!1;const t=xt(e.pageId,e._globalContext._pageConfigs),n=It(t,"hasServerOnlyHook")?.value;return R(!0===n||!1===n),n}function Gn(e,t){const n=Un(e,t);return!!n.client&&!n.server}function Un(e,t){if(Kn(t))return{client:!1,server:!0};const n=xt(t.pageId,t._globalContext._pageConfigs);return It(n,`${e}Env`)?.value??{}}async function Mn(e){let t=Pt(e._urlRewrite??e.urlOriginal);const n=await fetch(t);{const o=n.headers.get("content-type"),r="application/json",i=o&&o.includes(r);if(!i&&404===n.status)return xe(e.urlOriginal),{is404ServerSideRouted:!0};E(i,`Wrong Content-Type for ${t}: it should be ${r} but it's ${o} instead. Make sure to properly use pageContext.httpResponse.headers, see https://vike.dev/renderPage`)}const o=De(await n.text());if(R(z(o)),Pn(o))throw Cn(o);if("serverSideError"in o||kn in o)throw O("pageContext couldn't be fetched because an error occurred on the server-side");return Yn(o),{pageContextFromServer:o}}function Yn(e){E(!("urlOriginal"in e),"Adding 'urlOriginal' to passToClient is forbidden"),R(M(e,"pageId","string")),bt(e)}function Kn(e){return 0===e._globalContext._pageConfigs.length}async function Jn(e){await mn(e,e=>Tn(e))}function qn(e,t){return J(e,t),e}function Xn(){const e={_isOriginalObject:!0,isPageContext:!0};return Ne(e,"_isOriginalObject",!1),e}function Zn(e){R("string"==typeof e.urlOriginal),an(e);const t={};return rt(t,"urlPathname",{get:eo,enumerable:!0,configurable:!0}),rt(t,"url",{get:to,enumerable:!1,configurable:!0}),rt(t,"urlParsed",{get:no,enumerable:!0,configurable:!0}),t}function Qn(e){const n=t(e=>R("string"==typeof o,{src:e,urlResolved:o}),"assertUrlResolved");let o,r;e.urlLogical?(o=e.urlLogical,r=!1,n(1)):e._urlRewrite?(o=e._urlRewrite,r=!1,n(2)):(o=e.urlOriginal,r=!0,n(3)),n(4);let i=e._urlHandler;i||(i=t(e=>e,"urlHandler")),o=i(o);const a=r?e._baseServer:"/";return Z(o,a)}function eo(){const{pathname:e}=Qn(this),t=e;return R(t.startsWith("/")),t}function to(){return F(!1,"`pageContext.url` is outdated. Use `pageContext.urlPathname`, `pageContext.urlParsed`, or `pageContext.urlOriginal` instead. (See https://vike.dev/migration/0.4.23 for more information.)",{onlyOnce:!0,showStackTrace:!0}),eo.call(this)}function no(){const{isBaseMissing:e,...n}=Qn(this),o=N(),r=t(e=>{F(o,`pageContext.urlParsed.${e} isn't available on the server-side (HTTP requests don't include the URL hash)`,{onlyOnce:!0,showStackTrace:!0})},"warnHashNotAvailable"),i={...n,get hash(){return r("hash"),n.hash},get hashOriginal(){return r("hashOriginal"),n.hashOriginal},get hashString(){return F(!1,"pageContext.urlParsed.hashString has been renamed to pageContext.urlParsed.hashOriginal",{onlyOnce:!0,showStackTrace:!0}),r("hashString"),n.hashOriginal},get searchString(){return F(!1,"pageContext.urlParsed.searchString has been renamed to pageContext.urlParsed.searchOriginal",{onlyOnce:!0,showStackTrace:!0}),n.searchOriginal}};return Ne(i,"hashString",!1),Ne(i,"searchString",!1),o||(Ne(i,"hash",!1),Ne(i,"hashOriginal",!1)),i}function oo(){return R(ro("/")),"/"}function ro(e){return e.startsWith("/")}t(In,"getPageContextFromHooksServer_firstRender"),t(An,"getPageContextFromHooksClient_firstRender"),t(jn,"getPageContextFromHooksServer"),t(Nn,"getPageContextFromHooksClient"),t(Ln,"execHookClient"),t(Hn,"execHookDataLike"),t(Dn,"execHookData"),t(Bn,"execHookOnBeforeRender"),t(Wn,"setPageContextInitIsPassedToClient"),t(zn,"hasPageContextServer"),t(Vn,"hasServerOnlyHook"),t(Gn,"hookClientOnlyExists"),t(Un,"getHookEnv"),t(Mn,"fetchPageContextFromServer"),t(Yn,"processPageContextFromServer"),t(Kn,"isOldDesign"),t(Jn,"execHookGuardClient"),t(qn,"createPageContextShared"),t(Xn,"createPageContextObject"),t(Zn,"getPageContextUrlComputed"),t(Qn,"getUrlParsed"),t(eo,"urlPathnameGetter"),t(to,"urlGetter"),t(no,"urlParsedGetter"),t(oo,"getBaseServer"),t(ro,"isBaseServer");const io=["clientRouting"];function ao(e){io.forEach(t=>{if(R(e.fileExports),!(t in e.fileExports))return;const n=`The value of \`${t}\` is only allowed to be \`true\`.`;E(!1!==e.fileExports[t],`${e.filePath} has \`export { ${t} }\` with the value \`false\` which is prohibited: remove \`export { ${t} }\` instead. (${n})`),E(!0===e.fileExports[t],`${e.filePath} has \`export { ${t} }\` with a forbidden value. ${n}`)})}t(ao,"assertExportValues");const so=["render","clientRouting","prerender","doNotPrerender"];function lo(e,t){E(!so.includes(e),`${t} has \`export default { ${e} }\` which is prohibited, use \`export { ${e} }\` instead.`)}function uo(e){const t=".page.",n=q(e.split(t),0,-1).join(t);return R(!n.includes("\\")),n}function co(e,t){if(t.length>0){const e=t.filter(e=>e.isErrorPage);return 0===e.length?null:(E(1===e.length,"Only one error page can be defined"),e[0].pageId)}const n=o(e.map(({pageId:e})=>e).filter(e=>go(e)));if(E(n.length<=1,`Only one _error.page.js is allowed, but found several: ${n.join(" ")}`),n.length>0){const e=n[0];return R(e),e}return null}function go(e,t){return R(!e.includes("\\")),e.includes("/_error")}t(lo,"assertDefaultExports"),t(uo,"determinePageIdOld"),t(co,"getErrorPageId"),t(go,"isErrorPageId");const fo=[".page",".page.server",".page.route",".page.client",".css"];function po(e){if(e.endsWith(".css"))return".css";R(st(e),e);const t=e.split("/").slice(-1)[0].split("."),n=t.slice(-3)[0],o=t.slice(-2)[0];return"page"===o?".page":(R("page"===n,e),"server"===o?".page.server":"client"===o?".page.client":"route"===o?".page.route":void R(!1,e))}function ho(e){const n=t(e=>r.pageId===e||r.isDefaultPageFile&&(yo(r.filePath)||Co(e,r.filePath)),"isRelevant"),o=po(e),r={filePath:e,fileType:o,isEnv:t(e=>(R(".page.route"!==o),"CLIENT_ONLY"===e?".page.client"===o||".css"===o:"SERVER_ONLY"===e?".page.server"===o:"CLIENT_AND_SERVER"===e?".page"===o:void R(!1)),"isEnv"),isRelevant:n,isDefaultPageFile:mo(e),isRendererPageFile:".css"!==o&&mo(e)&&yo(e),isErrorPageFile:go(e),pageId:uo(e)};return r}function mo(e){return!go(e)&&e.includes("/_default")}function yo(e){return e.includes("/renderer/")}function Co(e,t){R(!e.endsWith("/")),R(!t.endsWith("/")),R(mo(t));const n=q(t.split("/"),0,-1).filter(e=>"_default"!==e).join("/");return e.startsWith(n)}t(po,"determineFileType"),t(ho,"getPageFileObject"),t(mo,"isDefaultFilePath"),t(yo,"isRendererFilePath"),t(Co,"isAncestorDefaultPage");const bo=["$$registrations","_rerender_only"],vo=[".md",".mdx"];function Po(e,n,o){const r=Object.keys(e),i=t(e=>"default"===e||e===o,"isValid"),s=r.filter(i),l=a.code("export default"),u=a.code(`export { ${o} }`);0===s.length&&E(!1,`${n} should define ${u} or ${l}`),2===s.length&&E(!1,`${n} is ambiguous: remove ${l} or ${u}`),R(1===s.length);const c=r.filter(e=>!i(e)).filter(e=>!bo.includes(e));vo.some(e=>n.endsWith(e))||c.forEach(e=>{F(!1,`${n} unexpected ${a.cyan(`export { ${e} }`)}, see https://vike.dev/no-side-exports`,{onlyOnce:!0})})}function xo(e,t){const n=e.map(e=>{const t=So(e.configValuesSerialized);wo(t);return{...e,configValues:t}}),o={configValues:{}};{const e=So(t.configValuesSerialized);Object.assign(o.configValues,e)}return{pageConfigs:n,pageConfigGlobal:o}}function wo(e){const t="route",n=e[t];if(!n)return;const{value:o,definedAtData:r}=n,i=typeof o;R(r);const a=Rt("Config",t,r);E("string"===i||W(o),`${a} has an invalid type '${i}': it should be a string or a function instead, see https://vike.dev/route`)}function So(e){const t={};return Object.entries(e).forEach(([e,o])=>{let r;if("cumulative"===o.type){const{valueSerialized:t,...i}=o;r={value:t.map((t,r)=>{const{value:i,sideExports:a}=ko(t,e,()=>{const e=o.definedAtData[r];return R(e),e});return n(a),i}),...i}}else{const{valueSerialized:t,...i}=o,{value:a,sideExports:s}=ko(t,e,()=>{R("computed"!==o.type);const{definedAtData:e}=o;return Array.isArray(e)?e[0]:e});n(s),r={value:a,...i}}t[e]=r}),t;function n(e){e.forEach(e=>{const{configName:n,configValue:o}=e;t[n]||(t[n]=o)})}}function ko(e,t,n){if("js-serialized"===e.type){let{value:t}=e;return t=Be(t),{value:t,sideExports:[]}}if("pointer-import"===e.type){const{value:t}=e;return{value:t,sideExports:[]}}if("plus-file"===e.type){const o=n(),{exportValues:r}=e;let i;R(!o.definedBy),Po(r,o.filePathToShowToUser,t);let a=!1;const s=[];return Object.entries(r).forEach(([e,n])=>{"default"!==e&&e!==t?s.push({configName:e,configValue:{type:"standard",value:n,definedAtData:{filePathToShowToUser:o.filePathToShowToUser,fileExportPathToShowToUser:[e]}}}):(i=n,R(!a),a=!0)}),R(a),{value:i,sideExports:s}}R(!1)}function Ro(e,t,n){e&&t(e)||R(!1,{moduleExports:e,moduleExportsKeys:Eo(e),moduleId:n})}function Eo(e){return void 0===e?null:[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e),...Object.keys(e)]}function Oo(e){Ro(e,e=>"pageFilesLazy"in e),R(M(e,"pageFilesLazy","object")),R(M(e,"pageFilesEager","object")),R(M(e,"pageFilesExportNamesLazy","object")),R(M(e,"pageFilesExportNamesEager","object")),R(M(e.pageFilesLazy,".page")),R(M(e.pageFilesLazy,".page.client")||M(e.pageFilesLazy,".page.server")),R(M(e,"pageFilesList","string[]")),R(M(e,"pageConfigsSerialized")),R(M(e,"pageConfigGlobalSerialized"));const{pageConfigsSerialized:t,pageConfigGlobalSerialized:n}=e;$o(t),_o(n);const{pageConfigs:o,pageConfigGlobal:r}=xo(t,n),i={};Fo(e.pageFilesLazy).forEach(({filePath:e,pageFile:t,globValue:n})=>{t=i[e]=i[e]??t;const o=n;To(o),t.loadFile=async()=>{"fileExports"in t||(t.fileExports=await o(),ao(t))}}),Fo(e.pageFilesExportNamesLazy).forEach(({filePath:e,pageFile:t,globValue:n})=>{t=i[e]=i[e]??t;const o=n;To(o),t.loadExportNames=async()=>{if(!("exportNames"in t)){const e=await o();R(M(e,"exportNames","string[]"),t.filePath),t.exportNames=e.exportNames}}}),Fo(e.pageFilesEager).forEach(({filePath:e,pageFile:t,globValue:n})=>{t=i[e]=i[e]??t;const o=n;R(z(o)),t.fileExports=o}),Fo(e.pageFilesExportNamesEager).forEach(({filePath:e,pageFile:t,globValue:n})=>{t=i[e]=i[e]??t;const o=n;R(z(o)),R(M(o,"exportNames","string[]"),t.filePath),t.exportNames=o.exportNames}),e.pageFilesList.forEach(e=>{i[e]=i[e]??ho(e)});const a=Object.values(i);return a.forEach(({filePath:e})=>{R(!e.includes("\\"))}),{pageFilesAll:a,pageConfigs:o,pageConfigGlobal:r}}function Fo(e){const t=[];return Object.entries(e).forEach(([e,n])=>{R(fo.includes(e)),R(z(n)),Object.entries(n).forEach(([n,o])=>{const r=ho(n);R(r.fileType===e),t.push({filePath:n,pageFile:r,globValue:o})})}),t}function To(e){R(W(e))}function $o(e){R(V(e)),e.forEach(e=>{R(z(e)),R(M(e,"pageId","string")),R(M(e,"routeFilesystem")),R(M(e,"configValuesSerialized"))})}function _o(e){R(M(e,"configValuesSerialized"))}function Io(e,t,n){const o=Ao(jo({pageConfigGlobalValues:e,pageConfigValues:n})),r=(()=>{if(t.isErrorPage)return{...o,isErrorPage:!0};{const e=o.config.route??t.routeFilesystem.routeString;return{...o,route:e}}})();return[t.pageId,r]}function Ao(e){return{config:e.config,_source:e.source,_sources:e.sources,_from:e.from}}function jo({pageConfigGlobalValues:e,pageConfigValues:t}){return Do({configValues:{...e,...t}})}function No(e,n,o){const r={},i={},a={};let s,l,u;if(e.forEach(e=>{Bo(e).forEach(({exportName:t,exportValue:n,isFromDefaultExport:o})=>{R("default"!==t),a[t]=a[t]??[],a[t].push({exportValue:n,exportSource:`${e.filePath} > ${o?`\`export default { ${t} }\``:`\`export { ${t} }\``}`,filePath:e.filePath,_filePath:e.filePath,_fileType:e.fileType,_isFromDefaultExport:o})})}),n){const e=jo({pageConfigGlobalValues:o.configValues,pageConfigValues:n.configValues});s=e.source,l=e.sources,u=e.from,Object.assign(r,e.config),Object.assign(i,e.configEntries),Object.assign(a,e.exportsAll)}else s={},l={},u={configsStandard:{},configsCumulative:{},configsComputed:{}};const c={},g={};Object.entries(a).forEach(([e,t])=>{t.forEach(({exportValue:t,_fileType:n,_isFromDefaultExport:o})=>{g[e]=g[e]??t,".page"!==n||o||e in c||(c[e]=t)})}),R(!("default"in g)),R(!("default"in a));const f={config:r,from:u,source:s,sources:l,configEntries:i,exports:g,exportsAll:a};return rt(f,"pageExports",{get:t(()=>(N()||F(!1,"pageContext.pageExports is outdated, use pageContext.exports instead",{onlyOnce:!0,showStackTrace:!0}),c),"get"),enumerable:!1,configurable:!0}),f}function Lo(e,t){return Ho(e,t,e=>e.configValues)}function Ho(e,t,n){const o=n(t,!0),r={...Ao(Do({configValues:o})),pages:Object.fromEntries(e.map(e=>{const t=n(e);return Io(o,e,t)}))};return{...r,_globalConfigPublic:r}}function Do(e){const n={},o={},r={},i={},a={},s={configsStandard:{},configsCumulative:{},configsComputed:{}},l=t((e,t)=>{i[t]=e,a[t]??(a[t]=[]),a[t].push(e)},"addSrc"),u=t((e,t,n)=>{const i=wt(n),a=Et("Config",e,n);o[e]=o[e]??[],o[e].push({configValue:t,configDefinedAt:a,configDefinedByFile:i});const s=e;r[s]=r[s]??[],r[s].push({exportValue:t,exportSource:a,filePath:i,_filePath:i,_fileType:null,_isFromDefaultExport:null})},"addLegacy");return Object.entries(e.configValues).forEach(([e,t])=>{const{value:o}=t;if(n[e]=n[e]??o,"standard"===t.type){const n={type:"configsStandard",value:t.value,definedAt:Ft(t.definedAtData,e)};l(n,e),s.configsStandard[e]=n,u(e,o,t.definedAtData)}if("cumulative"===t.type){const n={type:"configsCumulative",definedAt:Ft(t.definedAtData,e),values:t.value.map((n,o)=>{const r=t.definedAtData[o];R(r);const i=Ft(r,e);return u(e,n,r),{value:n,definedAt:i}})};l(n,e),s.configsCumulative[e]=n}if("computed"===t.type){const n={type:"configsComputed",definedAt:"Vike",value:t.value};l(n,e),s.configsComputed[e]=n,u(e,o,t.definedAtData)}}),{config:n,configEntries:o,exportsAll:r,source:i,sources:a,from:s}}function Bo(e){const{filePath:t,fileExports:n}=e;R(n),R(st(t));const o=[];return Object.entries(n).sort(Je(([e])=>"default"===e)).forEach(([e,n])=>{let r="default"===e;if(r){if(!lt(t))return E(z(n),`The ${a.cyan("export default")} of ${t} should be an object.`),void Object.entries(n).forEach(([e,n])=>{lo(e,t),o.push({exportName:e,exportValue:n,isFromDefaultExport:r})});e="Page"}o.push({exportName:e,exportValue:n,isFromDefaultExport:r})}),o.forEach(({exportName:e,isFromDefaultExport:t})=>{R(!(t&&so.includes(e)))}),o}async function Wo(e,t,n,o,r){const{previousCreateGlobalContextPromise:i}=t,{promise:a,resolve:s}=$e({timeout:null});t.previousCreateGlobalContextPromise=a,i&&(R(t.globalContext),await i);try{const i=zo(e);let a;if(t.globalContext?a=!0:(t.globalContext=i,a=!1),n&&i._pageConfigs.length>0){const e=n?.(i);J(i,e)}else{J(i,await(o?.(i)))}J(i,await(r?.(i)));const s=Wt(i._pageConfigGlobal,"onCreateGlobalContext");let l=!1;return Go(t.onCreateGlobalContextHooks??[],s)||(t.onCreateGlobalContextHooks=s,await un("onCreateGlobalContext",i._pageConfigGlobal,null,i,nn),l=!0),a&&(l?Ue(t.globalContext,i):J(t.globalContext,i,!0)),t.globalContext}finally{s()}}function zo(e){const{pageFilesAll:t,pageConfigs:n,pageConfigGlobal:o}=Oo(e),r={isGlobalContext:!0,_isOriginalObject:!0,_virtualFileExportsGlobalEntry:e,_pageFilesAll:t,_pageConfigs:n,_pageConfigGlobal:o,_allPageIds:Vo(t,n),...Lo(n,o)};return Ne(r,"_isOriginalObject",!1),r}function Vo(e,t){return[...o(e.filter(({isDefaultPageFile:e})=>!e).map(({pageId:e})=>e)),...t.map(e=>e.pageId)]}function Go(e,t){const n=e.map(e=>e.hookFn),o=t.map(e=>e.hookFn);return n.every(e=>o.includes(e))&&o.every(e=>n.includes(e))}t(Po,"assertPlusFileExport"),t(xo,"parsePageConfigsSerialized"),t(wo,"assertRouteConfigValue"),t(So,"parseConfigValuesSerialized"),t(ko,"parseValueSerialized"),t(Ro,"assertVirtualFileExports"),t(Eo,"getKeys"),t(Oo,"parseVirtualFileExportsGlobalEntry"),t(Fo,"parseGlobResult"),t(To,"assertLoadModule"),t($o,"assertPageConfigsSerialized"),t(_o,"assertPageConfigGlobalSerialized"),t(Io,"resolveGlobalConfigPublicPage"),t(Ao,"getPublicCopy"),t(jo,"resolvePageConfigPublic"),t(No,"resolvePageContextConfig"),t(Lo,"resolveGlobalContextConfig"),t(Ho,"resolveGlobalConfigPublic"),t(Do,"resolveConfigPublic_V1Design"),t(Bo,"getExportValues"),t(Wo,"createGlobalContextShared"),t(zo,"createGlobalContextBase"),t(Vo,"getAllPageIds"),t(Go,"hooksAreEqual");const Uo=r("getGlobalContextClientInternalShared.ts",(()=>{const{promise:e,resolve:t}=$e();return{globalContextInitialPromise:e,globalContextInitialPromiseResolve:t}})());async function Mo(){if(Uo.globalContextPromise){return await Uo.globalContextPromise}const e=Wo(Uo.virtualFileExportsGlobalEntry,Uo,()=>{const e={isClientSide:!0};return J(e,Ve()),e});Uo.globalContextPromise=e;const t=await e;return R(Uo.globalContext===t),Uo.globalContextInitialPromiseResolve(),t}async function Yo(e){Uo.virtualFileExportsGlobalEntry!==e&&(delete Uo.globalContextPromise,Uo.virtualFileExportsGlobalEntry=e,await Mo())}function Ko(e,t){const n=t.filter(({filesystemRoot:t})=>e.startsWith(t)).sort(Me(({filesystemRoot:e})=>e.length))[0];let o;if(n){const{filesystemRoot:t,urlRoot:r}=n,i={pageId:e,filesystemRoot:t,urlRoot:r};R(r.startsWith("/")&&e.startsWith("/")&&t.startsWith("/"),i),R(e.startsWith(t),i),"/"!==t?(R(!t.endsWith("/"),i),o=q(e,t.length,0)):o=e,R(o.startsWith("/"),i),o=r+(r.endsWith("/")?"":"/")+q(o,1,0)}else o=e;return R(o.startsWith("/")),o=o.split("/").filter(e=>"pages"!==e&&"src"!==e&&"index"!==e).join("/"),R(!o.includes(".page.")),R(!o.endsWith(".")),o.endsWith("/index")&&(o=q(o,0,-6)),""===o&&(o="/"),R(o.startsWith("/")),R(!o.endsWith("/")||"/"===o),o}async function Jo(e,t,n){let{hookReturn:o}=dn({hookFn:e,hookFilePath:n,hookName:"route"},t,on);if(qo(o,`The Route Function ${n}`),o=await o,!1===o)return null;if(!0===o&&(o={}),E(Y(o),`The Route Function ${n} should return a boolean or a plain JavaScript object (but it's ${a.cyan(`typeof result === ${JSON.stringify(typeof o)}`)} instead)`),"match"in o){const{match:e}=o;if(E("boolean"==typeof e,`The ${a.cyan("match")} value returned by the Route Function ${n} should be a boolean.`),!e)return null}let r=null;"precedence"in o&&(r=o.precedence,E("number"==typeof r,`The ${a.cyan("precedence")} value returned by the Route Function ${n} should be a number.`)),Zo(o,`The ${a.cyan("routeParams")} object returned by the Route Function ${n} should`);const i=o.routeParams||{};return E(!("pageContext"in o),`Providing ${a.cyan("pageContext")} in Route Functions is prohibited, see https://vike.dev/route-function#cannot-provide-pagecontext`),R(Y(i)),Object.keys(o).forEach(e=>{E("match"===e||"routeParams"===e||"precedence"===e,`The Route Function ${n} returned an object with an unknown property ${a.cyan(e)} (the known properties are ${a.cyan("match")}, ${a.cyan("routeParams")}, and ${a.cyan("precedence")})`)}),{precedence:r,routeParams:i}}function qo(e,t){F(!tt(e),`${t} returned a promise, but asynchronous routing is deprecated and will be removed in the next major release, see https://vike.dev/route-function#async`,{onlyOnce:!0})}function Xo(){F(!1,`${a.cyan("iKnowThePerformanceRisksOfAsyncRouteFunctions")} is deprecated and will be removed in the next major release`,{onlyOnce:!0})}function Zo(e,t){R(t.endsWith(" should")),M(e,"routeParams")&&E(M(e,"routeParams","string{}"),`${t} be ${a.bold("Record<string, string>")}`)}async function Qo(e,t,n,o){return await Promise.all(e.filter(e=>".page.route"===e.fileType).map(e=>e.loadFile?.())),er(e,t,n,o)}function er(e,t,n,o){const{onBeforeRouteHook:r,filesystemRoots:i}=nr(e,t,n);return{pageRoutes:tr(i,e,t,o),onBeforeRouteHook:r}}function tr(e,t,n,o){const r=[];if(n.length>0){R(null===e);const t=!0;n.filter(e=>!e.isErrorPage).forEach(e=>{const n=e.pageId;let o=null;{const r="route",i=It(e,r);if(i){const a=i.value;R(i.definedAtData);const s=Ft(i.definedAtData,r);if("string"==typeof a)o={pageId:n,comesFromV1PageConfig:t,routeString:a,routeDefinedAtString:s,routeType:"STRING"};else{const{definedAtData:r}=i;R(!V(r)&&!r.definedBy);const{filePathToShowToUser:l}=r;R(l),R(W(a)),It(e,"iKnowThePerformanceRisksOfAsyncRouteFunctions","boolean")&&Xo(),o={pageId:n,comesFromV1PageConfig:t,routeFunction:a,routeFunctionFilePath:l,routeDefinedAtString:s,routeType:"FUNCTION"}}}}if(!o){const{routeFilesystem:r}=e;R(r);const{routeString:i,definedAtLocation:a}=r;R(r.routeString.startsWith("/")),o={pageId:n,routeFilesystemDefinedBy:a,comesFromV1PageConfig:t,routeString:i,routeDefinedAtString:null,routeType:"FILESYSTEM"}}R(o),r.push(o)})}if(0===n.length){R(e);const n=!1;o.filter(e=>!go(e)).forEach(o=>{const i=t.find(e=>e.pageId===o&&".page.route"===e.fileType);if(i&&"default"in i.fileExports){const{filePath:e,fileExports:t}=i;if(R(t.default),M(t,"default","string")){const i=t.default;return E(i.startsWith("/"),`A Route String should start with a leading slash '/' but ${e} has \`export default '${i}'\`. Make sure to \`export default '/${i}'\` instead.`),void r.push({pageId:o,comesFromV1PageConfig:n,routeString:i,routeDefinedAtString:e,routeType:"STRING"})}if(M(t,"default","function")){const i=t.default;"iKnowThePerformanceRisksOfAsyncRouteFunctions"in t&&Xo();return void r.push({pageId:o,comesFromV1PageConfig:n,routeFunction:i,routeFunctionFilePath:e,routeDefinedAtString:e,routeType:"FUNCTION"})}E(!1,`The default export of ${e} should be a string or a function.`)}else{const t=Ko(o,e);R(t.startsWith("/")),R(!t.endsWith("/")||"/"===t),r.push({pageId:o,comesFromV1PageConfig:n,routeString:t,routeDefinedAtString:null,routeFilesystemDefinedBy:`${o}.page.*`,routeType:"FILESYSTEM"})}})}return r}function nr(e,t,n){if(t.length>0){return{onBeforeRouteHook:Bt(n,"onBeforeRoute"),filesystemRoots:null}}let o=null;const r=[];return e.filter(e=>".page.route"===e.fileType&&e.isDefaultPageFile).forEach(({filePath:e,fileExports:t})=>{if(R(t),"onBeforeRoute"in t){E(M(t,"onBeforeRoute","function"),`\`export { onBeforeRoute }\` of ${e} should be a function.`);const{onBeforeRoute:n}=t,r="onBeforeRoute";o={hookFilePath:e,hookFn:n,hookName:r,hookTimeout:Kt(r)}}"filesystemRoutingRoot"in t&&(E(M(t,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${e} should be a string.`),E(M(t,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${e} is \`'${t.filesystemRoutingRoot}'\` but it should start with a leading slash \`/\`.`),r.push({filesystemRoot:or(e),urlRoot:t.filesystemRoutingRoot}))}),{onBeforeRouteHook:o,filesystemRoots:r}}function or(e){R(e.startsWith("/")),R(!e.endsWith("/"));const t=q(e.split("/"),0,-1).join("/")||"/";return R(t.startsWith("/")),R(!t.endsWith("/")||"/"===t),t}async function rr(){const e=await Mo();return J(e,await ir(e)),e}async function ir(e){const{pageRoutes:t,onBeforeRouteHook:n}=await Qo(e._pageFilesAll,e._pageConfigs,e._pageConfigGlobal,e._allPageIds);return{_pageRoutes:t,_onBeforeRouteHook:n}}async function ar(e){const t=await rr(),n=oo();R(ge(n));const o=Xn();J(o,{isClientSide:!0,isPrerendering:!1,urlOriginal:e,_globalContext:t,_pageFilesAll:t._pageFilesAll,_urlHandler:null,_baseServer:n});J(o,Zn(o));return Ee(o,qn(o,t._globalConfigPublic)),o}function sr(e,t){const n=e.filter(e=>e.pageId===t);R(n.length<=1);return n[0]??null}async function lr(e,t){if("isPageEntryLoaded"in e)return e;const{moduleId:n,moduleExportsPromise:o}=e.loadVirtualFilePageEntry(),r=await o;Ro(r,()=>"configValuesSerialized"in r,n);const i=ur(r);return Object.assign(e.configValues,i),J(e,{isPageEntryLoaded:!0}),e}function ur(e){return So(e.configValuesSerialized)}t(Mo,"getGlobalContextClientInternalShared"),t(Yo,"setVirtualFileExportsGlobalEntry"),t(Ko,"deduceRouteStringFromFilesystemPath"),t(Jo,"resolveRouteFunction"),t(qo,"assertSyncRouting"),t(Xo,"warnDeprecatedAllowKey"),t(Zo,"assertRouteParams"),t(Qo,"loadPageRoutes"),t(er,"loadPageRoutesSync"),t(tr,"getPageRoutes"),t(nr,"getGlobalHooks"),t(or,"dirname"),t(rr,"getGlobalContextClientInternal"),t(ir,"addGlobalContext"),t(ar,"createPageContextClientSide"),t(sr,"findPageConfig"),t(lr,"loadAndParseVirtualFilePageEntry"),t(ur,"parseVirtualFileExportsPageEntry");const cr="_isAssetsError";async function gr(e,t,n,o){const r=gt(t,e),i=sr(n,e);let a;try{a=(await Promise.all([i&&lr(i),...r.map(e=>e.loadFile?.())]))[0]}catch(l){throw dr(l)&&Object.assign(l,{[cr]:!0}),l}const s={};return J(s,No(r,a,o)),J(s,{_pageFilesLoaded:r}),s}function fr(e){return!!e&&!0===e[cr]}function dr(e){if(!(e instanceof Error))return!1;return["Failed to fetch dynamically imported module","error loading dynamically imported module","Importing a module script failed","error resolving module specifier","failed to resolve module"].some(t=>e.message.toLowerCase().includes(t.toLowerCase()))}function pr(e,t){R(!e.startsWith("#"));const{searchOriginal:n,hashOriginal:o,pathname:r}=Z(e,"/");let i=`${r}${n||""}`;return t?.withoutHash||(i+=o||""),R(i.startsWith("/")),i}function hr(e){const t=e.getAttribute("href");return null===t||!pe(t)||""===t||Ce(t)||br(t)||yr(e)||Cr(e)||!Pr(t)||!mr(e)}function mr(e){if(xr()){const t=e.getAttribute("data-vike-link");return null!==t&&"false"!==t}return!0}function yr(e){const t=e.getAttribute("target"),n=e.getAttribute("rel");return"_blank"===t||"_external"===t||"external"===n||e.hasAttribute("download")}function Cr(e){return"false"===e.getAttribute("data-vike")}function br(e){return!!e.startsWith("#")||!(!e.includes("#")||pr(e,{withoutHash:!0})!==pr(window.location.href,{withoutHash:!0}))}function vr(e){return e.startsWith("#")?e===window.location.hash:pr(e)===pr(window.location.href)}function Pr(e){const t=oo();R(ge(t));const{isBaseMissing:n}=Z(e,t);return!n}function xr(){return!!window._disableAutomaticLinkInterception}function wr(e){if(".css"===e.fileType)return[];if(e.exportNames)return e.exportNames;R(e.fileExports,e.filePath);return Object.keys(e.fileExports)}function Sr({pageFilesClientSide:e,pageFilesServerSide:t,pageId:n}){return{isHtmlOnly:o(),isClientRouting:i()};function o(){if(t.some(e=>e.pageId===n&&".page"===e.fileType))return r(),!1;if(!t.some(e=>e.pageId===n&&".page.server"===e.fileType))return!1;if(e.some(e=>e.pageId===n&&".page.client"===e.fileType&&wr(e).includes("render")))return!1;return!0}function r(){E(e.some(e=>wr(e).includes("render")),["No client-side `render()` hook found.","See https://vike.dev/render-modes for more information.",["Loaded client-side page files (none of them `export { render }`):",...e.map((e,t)=>` (${t+1}): ${e.filePath}`)].join("\n")].join(" "))}function i(){return e.some(e=>wr(e).includes("clientRouting"))}}function kr({pageFilesClientSide:e,pageFilesServerSide:t,isHtmlOnly:n,isClientRouting:o}){let r=[];const i=t.filter(t=>!e.includes(t)),a=[];if(a.push(...e.map(e=>({id:e.filePath,onlyAssets:!1,eagerlyImported:!1}))),a.push(...i.map(e=>({id:e.filePath,onlyAssets:!0,eagerlyImported:!1}))),n)r=e.map(e=>e.filePath);else{const e=Rr(o);a.push({id:e,onlyAssets:!1,eagerlyImported:!1}),r=[e]}return{clientEntries:r,clientDependencies:a}}function Rr(e){return e?"@@vike/dist/client/runtime-client-routing/entry.js":"@@vike/dist/client/runtime-server-routing/entry.js"}function Er(e,t){let n=gt(e,t);const o=ft(e,t),{isHtmlOnly:r,isClientRouting:i}=Sr({pageFilesClientSide:n,pageFilesServerSide:o,pageId:t});r&&(n=n.filter(e=>e.isEnv("CLIENT_ONLY")&&!wr(e).includes("render")),n=Fr(n));const{clientEntries:a,clientDependencies:s}=kr({pageFilesClientSide:n,pageFilesServerSide:o,isHtmlOnly:r,isClientRouting:i});return{isHtmlOnly:r,isClientRouting:i,clientEntries:a,clientDependencies:s,pageFilesClientSide:n,pageFilesServerSide:o}}async function Or(e,t,{sharedPageFilesAlreadyLoaded:n}){const o=gt(e,t);await Promise.all(o.map(async e=>{R(e.isEnv("CLIENT_ONLY")||e.isEnv("CLIENT_AND_SERVER")),await(e.loadExportNames?.())}))}function Fr(e){const t=[];for(const n of e)if(t.push(n),wr(n).includes("overrideDefaultPages"))break;return t}function Tr(e,t,n){if(e){const t=It(e,"clientRouting","boolean")?.value??!1;return{isClientRuntimeLoaded:It(e,"isClientRuntimeLoaded","boolean")?.value??!1,isClientRouting:t}}{const{isHtmlOnly:e,isClientRouting:o}=Er(t,n);return{isClientRuntimeLoaded:!e,isClientRouting:o}}}async function $r(e,t){await Or(t._pageFilesAll,e,{sharedPageFilesAlreadyLoaded:!1});const n=sr(t._globalContext._pageConfigs,e),{isClientRuntimeLoaded:o,isClientRouting:r}=Tr(n,t._pageFilesAll,e);return o&&r}t(gr,"loadPageConfigsLazyClientSide"),t(fr,"isErrorFetchingStaticAssets"),t(dr,"isFetchError"),t(pr,"normalizeClientSideUrl"),t(hr,"isLinkSkipped"),t(mr,"isVikeLink"),t(yr,"isLinkExternal"),t(Cr,"isLinkIgnored"),t(br,"isHrefSamePageHash"),t(vr,"isHrefCurrentUrl"),t(Pr,"hasBaseServer"),t(xr,"isDisableAutomaticLinkInterception"),t(wr,"getExportNames"),t(Sr,"analyzeExports"),t(kr,"determineClientEntry"),t(Rr,"getVikeClientEntry"),t(Er,"analyzePageClientSide"),t(Or,"analyzePageClientSideInit"),t(Fr,"removeOverriddenPageFiles"),t(Tr,"analyzeClientSide"),t($r,"isClientSideRoutable");function _r(e,t="Invalid"){let n=`${t} Route String ${Dr(e)}`;E(""!==e,`${n} (empty string): set it to ${Dr("/")} instead`),E(["/","*"].includes(e[0]),`${n}: it should start with ${Dr("/")} or ${Dr("*")}`),E(!e.includes("**"),`${n}: set it to ${Dr(e.split("**").join("*"))} instead`)}function Ir(e,t){_r(e);const n=Ar(e),o=n.map(e=>e.param?"[^/]+":e.glob?".*":ot(e.static)).map(e=>`(${e})`).join(""),r=new RegExp(`^${o}/?$`),i=t.match(r);if(!i)return null;const a={},[s,...l]=i;let u=0;const c=n.filter(e=>e.glob).length>1;return n.forEach((e,t)=>{let n=l[t];if(e.param&&(a[e.param]=n),e.glob){const e=`*${c?++u:""}`;a[e]=n}}),{routeParams:a}}function Ar(e){const n=[],o=t(e=>{const t=n[n.length-1];t?.static?t.static+=e:n.push({static:e})},"pushStatic"),r=e.split("/");return r.forEach((t,i)=>{0!==i&&o("/"),Lr(t)?(F(!t.startsWith(":"),`Outdated Route String ${Dr(e)}, use ${Dr(e.split(":").join("@"))} instead`,{onlyOnce:!0}),n.push({param:t.slice(1)})):"*"===t&&i===r.length-1&&"*"!==e&&"/*"!==e?n.push({glob:!0}):t.split("*").forEach((e,t)=>{0!==t&&n.push({glob:!0}),""!==e&&o(e)})}),n}function jr(e){const t=[];return Ar(e).forEach(e=>{e.param&&t.push(e.param)}),t}function Nr(e){const n=Ar(e),o=t(e=>e?.split("/").filter(Boolean).length||0,"countStaticParts");let r=0;for(const t of n){if(!t.static)break;r+=o(t.static)}return{numberOfStaticPartsBeginning:r,numberOfStaticParts:n.map(e=>o(e.static)).reduce((e,t)=>e+t,0),numberOfParams:n.filter(e=>e.param).length,numberOfGlobs:n.filter(e=>e.glob).length}}function Lr(e){return e.startsWith("@")||e.startsWith(":")}function Hr(e){const t=Ir(e,e);return R(t),0===Object.keys(t.routeParams).length}function Dr(e){return N()?`'${e}'`:(""===e&&(e="''"),a.cyan(e))}function Br(e){e.sort(Wr).sort(Ke(e=>"FUNCTION"===e.routeType&&!!e.precedence&&e.precedence<0)).sort(Ke(e=>"STRING"===e.routeType&&!1===Hr(e.routeString))).sort(Ke(e=>"FUNCTION"===e.routeType&&!e.precedence)).sort(Ke(e=>"STRING"===e.routeType&&!0===Hr(e.routeString))).sort(Ke(e=>"FILESYSTEM"===e.routeType)).sort(Ke(e=>"FUNCTION"===e.routeType&&!!e.precedence&&e.precedence>0))}function Wr(e,n){{const t=e.precedence??0,o=n.precedence??0;if(t!==o)return t>o?-1:1}if(!n.routeString)return 0;if(!e.routeString)return 0;{const o=Me(t(e=>Nr(e).numberOfStaticPartsBeginning,"getValue"))(e.routeString,n.routeString);if(0!==o)return o}{const o=Me(t(e=>Nr(e).numberOfStaticParts,"getValue"))(e.routeString,n.routeString);if(0!==o)return o}{const o=Ye(t(e=>Nr(e).numberOfGlobs,"getValue"))(e.routeString,n.routeString);if(0!==o)return o}{const o=Me(t(e=>Nr(e).numberOfParams,"getValue"))(e.routeString,n.routeString);if(0!==o)return o}return 0}async function zr(e){const t={};if(!e._globalContext._onBeforeRouteHook)return null;const n=await Vr(e._globalContext._onBeforeRouteHook,e);return n&&(J(t,n),M(t,"pageId","string")||M(t,"pageId","null"))?(M(t,"routeParams")?R(M(t,"routeParams","object")):J(t,{routeParams:{}}),J(t,{_routingProvidedByOnBeforeRouteHook:!0}),t):(J(t,{_routingProvidedByOnBeforeRouteHook:!1}),t)}async function Vr(e,n){let{hookReturn:o}=dn(e,n,on);qo(o,`The onBeforeRoute() hook ${e.hookFilePath}`),o=await o;const r=`The onBeforeRoute() hook defined by ${e.hookFilePath}`;if(E(null==o||Jt(o,["pageContext"])&&M(o,"pageContext"),`${r} should return ${a.cyan("null")}, ${a.cyan("undefined")}, or a plain JavaScript object ${a.cyan("{ pageContext: { /* ... */ } }")}`),null==o)return null;if(E(M(o,"pageContext","object"),`${r} returned ${a.cyan("{ pageContext }")} but pageContext should be a plain JavaScript object.`),M(o.pageContext,"pageId")&&!M(o.pageContext,"pageId","null")){const e=`${r} returned ${a.cyan("{ pageContext: { pageId } }")} but ${a.cyan("pageId")} should be`;E(M(o.pageContext,"pageId","string"),`${e} a string or null`),E(n._globalContext._allPageIds.includes(o.pageContext.pageId),`${e} ${qt(n._globalContext._allPageIds.map(e=>a.cyan(e)),"or")}`)}M(o.pageContext,"routeParams")&&Zo(o.pageContext,`${r} returned ${a.cyan("{ pageContext: { routeParams } }")} but routeParams should`);const i=t(e=>`${r} returned ${a.cyan(`{ pageContext: { ${e} } }`)} which is deprecated. Return ${a.cyan("{ pageContext: { urlLogical } }")} instead.`,"deprecatedReturn");M(o.pageContext,"url")&&(F(!1,i("url"),{onlyOnce:!0}),o.pageContext.urlLogical=o.pageContext.url,delete o.pageContext.url),M(o.pageContext,"urlOriginal")&&(F(!1,i("urlOriginal"),{onlyOnce:!0}),o.pageContext.urlLogical=o.pageContext.urlOriginal,delete o.pageContext.urlOriginal),M(o.pageContext,"urlLogical")&&ve(o.pageContext.urlLogical,`${r} returned ${a.cyan("{ pageContext: { urlLogical } }")} and ${a.cyan("urlLogical")}`),At(o.pageContext,{hookFilePath:e.hookFilePath,hookName:"onBeforeRoute"});const s={};return J(s,o.pageContext),s}async function Gr(e,t){const n={};{const t=await zr(e);if(t){if(t._routingProvidedByOnBeforeRouteHook)return R(t.pageId),t;J(n,t)}J(e,t)}E(e._globalContext._allPageIds.length>0,"No page found. You must create at least one page."),R(e._globalContext._pageFilesAll.length>0||e._globalContext._pageConfigs.length>0);const{urlPathname:o}=e;R(o.startsWith("/"));const r=[];await Promise.all(e._globalContext._pageRoutes.map(async t=>{const{pageId:n,routeType:i}=t;if("FILESYSTEM"===t.routeType){const{routeString:e}=t,a=Ir(e,o);if(a){const{routeParams:t}=a;r.push({pageId:n,routeParams:t,routeString:e,routeType:i})}return}if("STRING"===t.routeType){const{routeString:e}=t,a=Ir(e,o);if(a){const{routeParams:t}=a;R("STRING"===i),r.push({pageId:n,routeString:e,routeParams:t,routeType:i})}return}if("FUNCTION"===t.routeType){const{routeFunction:o,routeFunctionFilePath:a}=t,s=await Jo(o,e,a);if(s){const{routeParams:e,precedence:t}=s;r.push({pageId:n,precedence:t,routeParams:e,routeType:i})}return}R(!1)})),Br(r);const i=r[0]??null;if(J(n,{_routeMatch:i}),!i)return J(n,{pageId:null,routeParams:{}}),n;{const{routeParams:e}=i;R(Y(e)),J(n,{pageId:i.pageId,routeParams:i.routeParams})}return n}t(_r,"assertRouteString"),t(Ir,"resolveRouteString"),t(Ar,"parseRouteString"),t(jr,"getRouteStringParameterList"),t(Nr,"analyzeRouteString"),t(Lr,"isParam"),t(Hr,"isStaticRouteString"),t(Dr,"highlight"),t(Br,"resolvePrecedence"),t(Wr,"sortMatches"),t(zr,"execHookOnBeforeRoute"),t(Vr,"getPageContextFromHook"),N()&&H(),t(Gr,"route");const Ur=r("runtime-client-routing/getPageContextCurrent.ts",{pageContextCurrent:null});function Mr(){const{pageContextCurrent:e}=Ur;return e}function Yr(e){Ur.pageContextCurrent=e}t(Mr,"getPageContextCurrent"),t(Yr,"setPageContextCurrent");const Kr=5e3,Jr={staticAssets:"hover",pageContext:Kr},qr={staticAssets:"hover",pageContext:!1},Xr=qr;function Zr(e,t){let n=Xr;if("prefetchLinks"in e.exports&&E(!1,"`export { prefetchLinks }` is deprecated, use `export { prefetchStaticAssets }` instead."),"prefetchStaticAssets"in e.exports){const t=e.exports.prefetchStaticAssets;n.staticAssets=t}if("prefetch"in e.exports){const{prefetch:t}=e.exports;!0===t&&(n=Jr),!1===t&&(n=qr),Object.assign(n,t),!0===n.pageContext&&(n.pageContext=Kr)}if(n.staticAssets,t){{let e=t.getAttribute("data-prefetch");null!==e&&(""===e&&(e="true"),"true"===e&&(n=Jr),"false"===e&&(n=qr))}{let e=t.getAttribute("data-prefetch-static-assets");null!==e&&("false"===e&&(n.staticAssets=!1),n.staticAssets=e)}{let e=t.getAttribute("data-prefetch-page-context");if(null!==e){""===e&&(e="true"),"true"===e&&(n.pageContext=Kr),"false"===e&&(n.pageContext=!1);const t=parseInt(e,10);Number.isNaN(t)||(n.pageContext=t)}}}return n}t(Zr,"getPrefetchSettings"),H();const Qr=r("runtime-client-routing/prefetch.ts",{linkPrefetchHandlerAdded:new WeakSet,addLinkPrefetchHandlers_debounce:null,mutationObserver:new MutationObserver(ai),linkTags:document.getElementsByTagName("A"),prefetchedPageContexts:{}});function ei(e){if(!Zr(e,null).pageContext)return null;const t=pi(e.urlPathname),n=Qr.prefetchedPageContexts[t];if(!n||n.result.is404ServerSideRouted||fi(n))return null;return n.result.pageContextFromHooksServer}async function ti(e){try{await gr(e.pageId,e._pageFilesAll,e._globalContext._pageConfigs,e._globalContext._pageConfigGlobal)}catch(t){if(!fr(t))throw t;ea(t,!0)}}async function ni(e,t){ri(e,await jn(e,!1),t)}function oi(e,t){hi()&&ri(e,t,null)}function ri(e,t,n){null===n&&(n=ii());const o=pi(e.urlPathname);R(hi()),Qr.prefetchedPageContexts[o]={resultFetchedAt:Date.now(),resultMaxAge:n,result:t}}function ii(){const e=Mr();if(!e)return 1/0;const t=Zr(e,null);return"number"==typeof t.pageContext?t.pageContext:Kr}function ai(){Qr.addLinkPrefetchHandlers_debounce&&clearTimeout(Qr.addLinkPrefetchHandlers_debounce),Qr.addLinkPrefetchHandlers_debounce=setTimeout(()=>{"requestIdleCallback"in window?requestIdleCallback(ci,{timeout:300}):setTimeout(ci,150)},250)}function si(){ai()}function li(){Qr.mutationObserver.observe(document.body,{childList:!0,subtree:!0})}function ui(){Qr.mutationObserver.disconnect()}function ci(){for(let e of Qr.linkTags){if(Qr.linkPrefetchHandlerAdded.has(e))continue;if(Qr.linkPrefetchHandlerAdded.add(e),hr(e))continue;e.addEventListener("mouseover",()=>{gi(e,"hover")},{passive:!0}),e.addEventListener("touchstart",()=>{gi(e,"hover")},{passive:!0});new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&gi(e,"viewport")})}).observe(e)}}async function gi(e,t){let n;const o=Mr();if(o)n=Zr(o,e);else{if(!hi())return;n={staticAssets:"hover",pageContext:1/0}}if(hr(e))return;const r=e.getAttribute("href"),i=await di(r);i?.pageId&&(R(M(i,"pageId","string")),await $r(i.pageId,i)&&await Promise.all([(async()=>{n.staticAssets===t&&await ti(i)})(),(async()=>{if("viewport"!==t&&n.pageContext){const e=pi(r),t=Qr.prefetchedPageContexts[e];if(!t||fi(t)){const e=n.pageContext;await ni(i,e)}}})()]))}function fi(e){return Date.now()-e.resultFetchedAt>e.resultMaxAge}async function di(e){const t=await ar(e);let n;try{n=await Gr(t)}catch{return null}return J(t,n),t}function pi(e){e.startsWith("#")&&(e="/"),R(e.startsWith("/"),{urlPathname:e});return e.split("#")[0]}function hi(){return"_isBrilloutDocpress"in window}async function mi(e,t){let n=null;n=Ht(e,"render");{const t=Ht(e,"onRenderClient");t&&(n=t)}if(!n){const t=yi(e);if(R(t),e._globalContext._pageConfigs.length>0)E(!1,`No onRenderClient() hook defined for URL '${t}', but it's needed, see https://vike.dev/onRenderClient`);else{const n=e._pageFilesLoaded.filter(e=>".page.client"===e.fileType);let o;o=0===n.length?"No file `*.page.client.*` found for URL "+t:"One of the following files should export a render() hook: "+n.map(e=>e.filePath).join(" "),E(!1,o)}}await gn(n,e,t)}function yi(e){let t;try{t=e.urlPathname??e.urlOriginal}catch{}return t=t??window.location.href,t}function Ci(e){return pr(window.location.href,e)}t(ei,"getPageContextPrefetched"),t(ti,"prefetchAssets"),t(ni,"prefetchPageContextFromHooksServer"),t(oi,"populatePageContextPrefetchCache"),t(ri,"setPageContextPrefetchCache"),t(ii,"getResultMaxAge"),t(ai,"addLinkPrefetchHandlers"),t(si,"initLinkPrefetchHandlers"),t(li,"addLinkPrefetchHandlers_watch"),t(ui,"addLinkPrefetchHandlers_unwatch"),t(ci,"addLinkPrefetchHandlers_apply"),t(gi,"prefetchOnEvent"),t(fi,"isExpired"),t(di,"getPageContextLink"),t(pi,"getCacheKey"),t(hi,"isBrilloutDocpress"),t(mi,"execHookOnRenderClient"),t(yi,"getUrlToShowToUser"),t(Ci,"getCurrentUrl");const bi=r("history.ts",{monkeyPatched:!1,previous:void 0});function vi(){if(Fi(window.history.state))return;Ri({vike:{timestamp:wi(),scrollPosition:xi(),triggeredBy:"browser"}})}function Pi(){const e=window.history.state;return Ti(e),e}function xi(){return{x:window.scrollX,y:window.scrollY}}function wi(){return(new Date).getTime()}function Si(){const e=xi();if(!Fi(window.history.state))return;const t=Pi();Ri({...t,vike:{...t.vike,scrollPosition:e}})}function ki(e,t){if(t)Ri(Pi(),e);else{const t={vike:{timestamp:wi(),scrollPosition:null,triggeredBy:"vike"}};window.history.pushState(t,"",e)}}function Ri(e,t){const n=t??null;window.history.replaceState(e,"",n),Ti(window.history.state)}function Ei(e,t){History.prototype.replaceState.bind(window.history)(e,"",t)}function Oi(){bi.monkeyPatched||(bi.monkeyPatched=!0,["pushState","replaceState"].forEach(e=>{const t=window.history[e].bind(window.history);window.history[e]=(n={},...o)=>{E(null==n||z(n),`history.${e}(state) argument state must be an object`);const r=Fi(n)?n:{...n,vike:{scrollPosition:xi(),timestamp:wi(),triggeredBy:"user"}};t(r,...o),Ti(window.history.state),bi.previous=$i(),queueMicrotask(()=>{Fi(window.history.state)||(Object.assign(r,window.history.state),Ei(r))})}}))}function Fi(e){return!!e?.vike}function Ti(e){Fi(e)||R(!1,{state:e})}function $i(){return{url:Ci(),state:Pi()}}function _i(){const{previous:e}=bi,t=Fi(window.history.state),n=null===window.history.state;if(!t&&!n)return xe(Ci()),{skip:!0};t||vi();const o=$i();return bi.previous=o,n?{skip:!0}:{previous:e,current:o}}function Ii(){Oi(),vi()}function Ai(e,t){if(!e&&t&&Ni(t))return void ji(t);if(e&&"x"in e)return void Di(e);if(e?.preserveScroll)return;Li(Bi())}function ji(e){const t=window.history.state;Ei(null,e),R(null===window.history.state),window.location.replace(e),Ei(t,e)}function Ni(e){return e.includes("#")&&e.includes(":~:text")}function Li(e){if(e){const t=decodeURIComponent(e),n=document.getElementById(t)||document.getElementsByName(t)[0];n?(n.scrollIntoView(),n.focus()):"top"===e&&Hi()}else Hi()}function Hi(){Di({x:0,y:0})}function Di(e){const n=t(()=>{window.scrollTo(e.x,e.y)},"scroll"),o=t(()=>window.scrollX===e.x&&window.scrollY===e.y,"done");o()||(n(),o()||requestAnimationFrame(()=>{n(),o()||setTimeout(async()=>{if(n(),o())return;const e=(new Date).getTime();for(;;){if(await we(10),n(),o())return;if((new Date).getTime()-e>100)return}},0)}))}function Bi(){let{hash:e}=window.location;return""===e?null:(R(e.startsWith("#")),e=e.slice(1),e)}function Wi(){window.addEventListener("scroll",Se(Si,Math.ceil(1e3/3)),{passive:!0}),ke(Si)}Ii(),bi.previous=$i(),t(vi,"enhance"),t(Pi,"getState"),t(xi,"getScrollPosition"),t(wi,"getTimestamp"),t(Si,"saveScrollPosition"),t(ki,"pushHistoryState"),t(Ri,"replaceHistoryState"),t(Ei,"replaceHistoryStateOriginal"),t(Oi,"monkeyPatchHistoryAPI"),t(Fi,"isEnhanced"),t(Ti,"assertIsEnhanced"),t($i,"getHistoryInfo"),t(_i,"onPopStateBegin"),t(Ii,"initHistory"),t(Ai,"setScrollPosition"),t(ji,"scrollToTextFragment"),t(Ni,"hasTextFragment"),t(Li,"scrollToHashOrTop"),t(Hi,"scrollToTop"),t(Di,"setScroll"),t(Bi,"getUrlHash"),t(Wi,"autoSaveScrollPosition");const zi=r("runtime-client-routing/scrollRestoration.ts",{});function Vi(){Mi(),ke(Mi),Re(()=>zi.initialRenderIsDone&&Ui())}function Gi(){zi.initialRenderIsDone=!0,Ui()}function Ui(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}function Mi(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")}function Yi(e){z(e)&&e.isAlreadyLogged||console.error(e)}t(Vi,"scrollRestoration_init"),t(Gi,"scrollRestoration_initialRenderIsDone"),t(Ui,"scrollRestoration_disable"),t(Mi,"scrollRestoration_enable"),t(Yi,"logErrorClient");const Ki=r("runtime-client-routing/renderPageClient.ts",(()=>{const{promise:e,resolve:t}=$e();return{renderCounter:0,firstRenderStartPromise:e,firstRenderStartPromiseResolve:t}})()),{firstRenderStartPromise:Ji}=Ki;async function qi(e){Ae("renderPageClient()");const{urlOriginal:n=Ci(),overwriteLastHistoryEntry:o=!1,isBackwardNavigation:r=!1,isHistoryNavigation:i=!1,doNotRenderIfSamePage:a,isClientSideNavigation:s=!0,pageContextInitClient:l,pageContextsAborted:u=[]}=e;let{scrollTarget:c}=e;const{previousPageContext:g}=Ki;ui();const{isRenderOutdated:f,setHydrationCanBeAborted:d,isFirstRender:p}=ta(),h={urlOriginal:n,isBackwardNavigation:r,isHistoryNavigation:i,pageContextsAborted:u,isClientSideNavigation:s,pageContextInitClient:l,isFirstRender:p};if(Ki.clientRoutingIsDisabled)xe(n);else if(Ki.firstRenderStartPromiseResolve(),!f())return await m();async function m(){const e=t(async e=>{await y({err:e})},"onError"),o=await Xi(!1,h);if(f())return;if(Ki.isFirstRenderDone&&(R(g),!Ki.isTransitioning)){Ki.isTransitioning=!0;const t=Dt("onPageTransitionStart",g);try{await cn(t,o,En)}catch(i){return void(await e(i))}if(f())return}if(p){const e=In();R(!("urlOriginal"in e)),J(o,e),oi(o,{pageContextFromHooksServer:e})}{let t;try{t=await Gr(o)}catch(i){return void(await e(i))}if(f())return;if(R(!("urlOriginal"in t)),p){const{pageId:e,routeParams:n,...r}=t;J(o,r),R(M(o,"routeParams","string{}"))}else J(o,t);if(!p){if(!t.pageId)return void xe(n);const e=await $r(t.pageId,o);if(f())return;if(!e)return void xe(n);const r=t.pageId&&g?.pageId&&t.pageId===g.pageId;if(a&&r)return}}R(M(o,"pageId","string"));const r=await ia(o,p,f);if(!r.skip)if("err"in r)await e(r.err);else if(Ee(o,r.pageContext),Yr(o),o.exports.hydrationCanBeAborted?d():F(!K(),"You seem to be using React; we recommend setting hydrationCanBeAborted to true, see https://vike.dev/hydrationCanBeAborted",{onlyOnce:!0}),!f()){if(p){let t;R(M(o,"_hasPageContextFromServer","true"));try{t=await An(o)}catch(i){return void(await e(i))}if(f())return;return Ee(o,t),await v(o)}{let t;const n=ei(o);if(n)t=n;else try{const e=await jn(o,!1);if(e.is404ServerSideRouted)return;t=e.pageContextFromHooksServer,oi(o,e)}catch(i){return void(await e(i))}if(f())return;let r;R(!("urlOriginal"in t)),J(o,t);try{r=await Nn(o,!1)}catch(i){return void(await e(i))}if(f())return;return Ee(o,r),await v(o)}}}async function y(e){const{err:t}=e;R(t),vn(t)||Yi(t);const n=await Xi(!0,h);if(f())return;let o;if(J(n,{errorWhileRendering:t}),vn(t)){const e=await b(t,n);if(e.skip)return;o=e.pageContextAbort}await C(n,e,o)}async function C(e,o,r){const i=t(e=>{Yi(e)},"onError"),a=co(e._pageFilesAll,e._globalContext._pageConfigs);if(!a)throw new Error("No error page defined.");J(e,{pageId:a,routeParams:{}}),r?(R(r.abortStatusCode),R(!("urlOriginal"in r)),J(e,r),J(e,{is404:404===r.abortStatusCode})):J(e,{is404:!1});const s=await $r(e.pageId,e);if(f())return;if(!s)return void xe(n);const l=await ia(e,p,f);if(l.skip)return;if("err"in l)return void i(l.err);let u,c;Ee(e,l.pageContext),Yr(e);try{const t=await jn(e,!0);if(t.is404ServerSideRouted)return;u=t.pageContextFromHooksServer}catch(g){return void i(g)}if(!f()){R(!("urlOriginal"in u)),J(e,u);try{c=await Nn(e,!0)}catch(g){return void i(g)}f()||(Ee(e,c),await v(e,o))}}async function b(t,n){const o=t._pageContextAbort;if(wn(u,n,o),o._urlRewrite)return await qi({...e,scrollTarget:void 0,pageContextsAborted:u}),{skip:!0};if(o._urlRedirect){const t=o._urlRedirect.url;return t.startsWith("/")?(await qi({...e,scrollTarget:void 0,urlOriginal:t,overwriteLastHistoryEntry:!1,pageContextsAborted:u}),{skip:!0}):(xe(t),{skip:!0})}return{pageContextAbort:o}}async function v(e,r){const i=t(async e=>{r?Yi(e):await y({err:e})},"onError");if(Ki.onRenderClientPreviousPromise&&(await Ki.onRenderClientPreviousPromise,R(void 0===Ki.onRenderClientPreviousPromise),f()))return;Qi(n,o),Ki.previousPageContext=e,R(void 0===Ki.onRenderClientPreviousPromise);const a=(async()=>{let t;try{await mi(e,Tn)}catch(n){R(n),t=n}return Ki.onRenderClientPreviousPromise=void 0,Ki.isFirstRenderDone=!0,t})();Ki.onRenderClientPreviousPromise=a;const s=await a;if(R(void 0===Ki.onRenderClientPreviousPromise),!s||(await i(s),r)){if(p&&!s){try{await ln("onHydrationEnd",e,Tn)}catch(l){if(await i(l),!r)return}if(f(!0))return}if(!f(!0)){if(Ki.isTransitioning){Ki.isTransitioning=void 0,R(g);const t=Dt("onPageTransitionEnd",g);try{await cn(t,e,Tn)}catch(l){if(await i(l),!r)return}if(f(!0))return}if(!c&&g){const t=oa(g),n=oa(e);!1!==n&&!1!==t&&ra(n,t)&&(c={preserveScroll:!0})}return Ai(c,n),Gi(),e._hasPageContextFromServer&&Wn(e),li(),ai(),Ki.renderedPageContext=e,Zi(n),e}}}}async function Xi(e,{urlOriginal:t,isBackwardNavigation:n,isHistoryNavigation:o,pageContextsAborted:r,isClientSideNavigation:i,pageContextInitClient:a,isFirstRender:s}){const l=Ki.previousPageContext??null,u=await ar(t);J(u,{isBackwardNavigation:n,isHistoryNavigation:o,isClientSideNavigation:i,isHydration:s&&!e,previousPageContext:l,pageContextsAborted:r,...a}),Ki.currentPageContext=u,Object.defineProperty(u,"_previousPageContext",{get:()=>(F(!1,"pageContext._previousPageContext has been renamed pageContext.previousPageContext",{showStackTrace:!0,onlyOnce:!0}),l),enumerable:!1});{const e=xn(r);R(!e||!("urlOriginal"in e)),J(u,e)}return u}function Zi(e){window._vike??(window._vike={}),window._vike.fullyRenderedUrl=e}function Qi(e,t){Ci()!==e&&ki(e,t)}function ea(e,t){Ki.clientRoutingIsDisabled=!0,R(fr(e)),t&&console.log(e),T(0,["Failed to fetch static asset.","This usually happens when a new frontend is deployed.","Falling back to Server Routing.","(The next page navigation will use Server Routing instead of Client Routing.)"].filter(Boolean).join(" "),{onlyOnce:!0})}function ta(){const e=++Ki.renderCounter;R(e>=1);let n=!1;const o=t(()=>{n=!0},"setHydrationCanBeAborted");return{isRenderOutdated:t(t=>{if(1===e&&!n&&!t)return!1;return e!==Ki.renderCounter},"isRenderOutdated"),setHydrationCanBeAborted:o,isFirstRender:1===e}}function na(){return Ki.renderCounter}function oa(e){const t=e.from.configsStandard.keepScrollPosition;if(!t)return!1;let n=t.value;const o=t.definedAt;R(o);const r=jr(o);return W(n)&&(n=n(e,{configDefinedAt:t.definedAt})),!0===n?[o,...r.map(t=>{const n=e.routeParams[t];return R(n),n})]:n}function ra(e,t){return e===t||!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&e.every((n,o)=>e[o]===t[o]))}async function ia(e,t,n){let o,r,i=!1;try{r=await gr(e.pageId,e._pageFilesAll,e._globalContext._pageConfigs,e._globalContext._pageConfigGlobal)}catch(a){if(o=a,i=!0,aa(o,e,t))return{skip:!0}}if(n())return{skip:!0};if(i)return{err:o};J(e,r);try{await ln("onCreatePageContext",e,Tn)}catch(a){i=!0}return n()?{skip:!0}:i?{err:o}:{pageContext:e}}function aa(e,t,n){if(!fr(e))return!1;if(n)throw ea(e,!1),e;return ea(e,!0),xe(t.urlOriginal),!0}function sa(){window.addEventListener("popstate",la)}async function la(){Ae("onPopState()");const e=_i();if(e.skip)return;const{previous:t,current:n}=e;await ua(t,n)}async function ua(e,t){const n=t.state.vike.scrollPosition||void 0;if(ca(t.url)===ca(e.url)&&t.url!==e.url)return void Ai(n);const o="user"===t.state.vike.triggeredBy||"user"===e.state.vike.triggeredBy,r=t.state.vike.timestamp&&e.state.vike.timestamp?t.state.vike.timestamp<e.state.vike.timestamp:null;await qi({scrollTarget:n,isBackwardNavigation:r,doNotRenderIfSamePage:o,isHistoryNavigation:!0})}function ca(e){return e.split("#")[0]}function ga(){document.addEventListener("click",fa)}async function fa(e){if(!da(e))return;const t=pa(e.target);if(!t)return;const n=t.getAttribute("href");if(null===n)return;if(Cr(t))return;if(n.includes("#")&&vr(n))return e.preventDefault(),void Li(n.split("#")[1]);if(hr(t))return;let o;e.preventDefault();{const e=t.getAttribute("keep-scroll-position");null!==e&&(o={preserveScroll:"false"!==e})}await qi({scrollTarget:o,urlOriginal:n})}function da(e){return!(0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)}function pa(e){for(;"A"!==e.tagName;){const{parentNode:t}=e;if(!t)return null;e=t}return e}async function ha(){ya();const e=ma();ga(),si(),await e}async function ma(){R(0===na()),await qi({scrollTarget:{preserveScroll:!0},isClientSideNavigation:!1})}function ya(){Vi(),Ii(),Wi(),sa()}t(qi,"renderPageClient"),t(Xi,"getPageContextBegin"),t(Zi,"stampFinished"),t(Qi,"changeUrl"),t(ea,"disableClientRouting"),t(ta,"getIsRenderOutdated"),t(na,"getRenderCount"),t(oa,"getKeepScrollPositionSetting"),t(ra,"areKeysEqual"),t(ia,"loadPageConfigsLazyClientSideAndExecHook"),t(aa,"handleErrorFetchingStaticAssets"),t(sa,"initOnPopState"),t(la,"onPopState"),t(ua,"handleHistoryNavigation"),t(ca,"removeHash"),t(ga,"initOnLinkClick"),t(fa,"onLinkClick"),t(da,"isNormalLeftClick"),t(pa,"findLinkTag"),t(ha,"initClientRouter"),t(ma,"renderFirstPage"),t(ya,"initHistoryAndScroll");const Ca={},ba={},va={},Pa={},xa=[{pageId:"/src/pages",isErrorPage:void 0,routeFilesystem:{routeString:"/",definedAtLocation:"/src/pages/"},loadVirtualFilePageEntry:t(()=>({moduleId:"virtual:vike:page-entry:client:/src/pages",moduleExportsPromise:n(()=>import("./src_pages.Bzc5nBag.js").then(e=>e.p),__vite__mapDeps([0,1,2,3]))}),"loadVirtualFilePageEntry"),configValuesSerialized:{hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},route:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","route"]},valueSerialized:{type:"js-serialized",value:"/*"}},clientRouting:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/+config.ts",fileExportPathToShowToUser:["default","clientRouting"]},valueSerialized:{type:"js-serialized",value:!0}}}}],wa={...Object.assign({})};Ca[".page"]=wa;const Sa={...Object.assign({})};va[".page"]=Sa;const ka={...Object.assign({})};va[".page.server"]=ka;const Ra={...Object.assign({})};ba[".page.route"]=Ra;const Ea={...Object.assign({})};Ca[".page.client"]=Ea;const Oa={...Object.assign({})};va[".page.client"]=Oa;const Fa={...Object.assign({})};Pa[".page.server"]=Fa;const Ta=Object.freeze(Object.defineProperty({__proto__:null,neverLoaded:Pa,pageConfigGlobalSerialized:{configValuesSerialized:{}},pageConfigsSerialized:xa,pageFilesEager:ba,pageFilesExportNamesEager:va,pageFilesExportNamesLazy:{},pageFilesLazy:Ca,pageFilesList:[]},Symbol.toStringTag,{value:"Module"}));H(),d(),Yo(Ta),ha();
